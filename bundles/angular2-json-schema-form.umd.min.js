!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs-compat/Observable"),require("rxjs-compat/observable/fromPromise"),require("rxjs-compat/operator/toPromise"),require("@angular/core"),require("rxjs-compat/observable/forkJoin"),require("rxjs-compat/operator/map"),require("lodash"),require("@angular/forms"),require("rxjs-compat/Subject"),require("ajv"),require("moment"),require("@angular/platform-browser"),require("@angular/common"),require("ngx-ckeditor"),require("ng2-date-picker"),require("@angular/flex-layout"),require("angular-font-awesome"),require("@angular/material")):"function"==typeof define&&define.amd?define("angular2-json-schema-form",["exports","rxjs-compat/Observable","rxjs-compat/observable/fromPromise","rxjs-compat/operator/toPromise","@angular/core","rxjs-compat/observable/forkJoin","rxjs-compat/operator/map","lodash","@angular/forms","rxjs-compat/Subject","ajv","moment","@angular/platform-browser","@angular/common","ngx-ckeditor","ng2-date-picker","@angular/flex-layout","angular-font-awesome","@angular/material"],e):e(t.angular2JsonSchemaForm={},t.rxjs.Observable,t.rxjs.observable.fromPromise,t.rxjs.operator.toPromise,t.ng.core,t.rxjs.observable.forkJoin,t.rxjs.operator.map,t._,t.ng.forms,t.rxjs.Subject,t.Ajv,t.moment,t.ng.platformBrowser,t.ng.common,t["ngx-ckeditor"],t["ng2-date-picker"],t.ng["flex-layout"],null,t.ng.material)}(this,function(t,o,n,e,r,i,a,E,s,l,u,p,d,c,m,f,h,y,g){"use strict";p=p&&p.hasOwnProperty("default")?p["default"]:p;var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};function v(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var R=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function q(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}function x(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,i,r=o.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(n=r.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r["return"])&&o.call(r)}finally{if(i)throw i.error}}return a}function H(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t}function I(e,t,o){return void 0===o&&(o=!1),t.map(function(t){return t(e,o)})}function C(e,t,o){return void 0===o&&(o=!1),t.map(function(t){return t(e,o)})}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o,n,i,r,a={};try{for(var s=q(t),l=s.next();!l.done;l=s.next()){var u=l.value;if(W(u))try{for(var p=q(Object.keys(u)),d=p.next();!d.done;d=p.next()){var c=d.value,m=u[c],f=a[c];a[c]=V(f)?"not"===c&&O(f,"strict")&&O(m,"strict")?Z(f,m):"object"===L(f)&&"object"===L(m)?w(f,m):m:m}}catch(h){i={error:h}}finally{try{d&&!d.done&&(r=p["return"])&&r.call(p)}finally{if(i)throw i.error}}}}catch(y){o={error:y}}finally{try{l&&!l.done&&(n=s["return"])&&n.call(s)}finally{if(o)throw o.error}}return a}function F(t){var e=w.apply(void 0,H(t));return $(e)?null:e}function V(t){return t!==undefined&&null!==t}function j(t){return t!==undefined&&null!==t&&""!==t}function $(t){return B(t)?!t.length:W(t)?!Object.keys(t).length:t===undefined||null===t||""===t}function z(t){return"string"==typeof t}function _(t,e){return void 0===e&&(e=!1),(!e||"number"==typeof t)&&(!isNaN(t)&&t!==t/0)}function k(t,e){return void 0===e&&(e=!1),(!e||"number"==typeof t)&&(!isNaN(t)&&t!==t/0&&t%1==0)}function O(t,e){return void 0===e&&(e=null),"strict"===e?!0===t||!1===t:!0===e?!0===t||1===t||"true"===t||"1"===t:!1===e?!1===t||0===t||"false"===t||"0"===t:!0===t||1===t||"true"===t||"1"===t||!1===t||0===t||"false"===t||"0"===t}function W(t){return null!==t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)}function B(t){return Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)}function N(t){return"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function M(t){return"object"==typeof t&&"[object Map]"===Object.prototype.toString.call(t)}function D(t){return"object"==typeof t&&"[object Set]"===Object.prototype.toString.call(t)}function L(t,e){return void 0===e&&(e=!1),V(t)?B(t)?"array":W(t)?"object":O(t,"strict")?"boolean":k(t,e)?"integer":_(t,e)?"number":z(t)||!e&&N(t)?"string":null:"null"}function P(t,e){switch(e){case"string":return z(t)||N(t);case"number":return _(t);case"integer":return k(t);case"boolean":return O(t);case"null":return!j(t);default:return console.error('isType error: "'+e+'" is not a recognized type.'),null}}function A(t){return z(t)||_(t)||O(t,"strict")||null===t}function S(t,e,o){if(void 0===o&&(o=!0),!V(t))return null;if(z(e)&&(e=[e]),o&&U("integer",e)){if(k(t,"strict"))return t;if(k(t))return parseInt(t,10)}if(U("number",e)||!o&&U("integer",e)){if(_(t,"strict"))return t;if(_(t))return parseFloat(t)}if(U("string",e)){if(z(t))return t;if(N(t))return t.toISOString().slice(0,10);if(_(t))return t.toString()}if(N(t)&&(U("integer",e)||U("number",e)))return t.getTime();if(U("boolean",e)){if(O(t,!0))return!0;if(O(t,!1))return!1}return null}function T(t,e){if(B(e)||(e=[e]),e.includes("null")&&!j(t))return null;if(e.includes("boolean")&&!O(t,"strict"))return t;if(e.includes("integer")&&null!==(o=S(t,"integer")))return+o;if(e.includes("number")&&null!==(o=S(t,"number")))return+o;if((z(t)||_(t,"strict"))&&e.includes("string"))return S(t,"string");if(e.includes("boolean")&&O(t))return S(t,"boolean");if(e.includes("string")){if(null===t)return"";var o;if(null!==(o=S(t,"string")))return o}if(e.includes("number")||e.includes("integer")){if(!0===t)return 1;if(!1===t||null===t||""===t)return 0}if(e.includes("number")&&(o=parseFloat(t)))return o;if(e.includes("integer")&&(o=parseInt(t,10)))return o;return e.includes("boolean")?!!t:!e.includes("number")&&!e.includes("integer")||e.includes("null")?void 0:0}function J(t){return!!t&&"function"==typeof t.then}function G(t){return!!t&&"function"==typeof t.subscribe}function Y(t){var e=J(t)?n.fromPromise(t):t;return G(e)?e:(console.error("toObservable error: Expected validator to return Promise or Observable."),new o.Observable)}function U(t,e,o){return void 0===o&&(o=!1),!(!V(t)||!B(e))&&(B(t)?t[o?"every":"some"](function(t){return e.includes(t)}):e.includes(t))}function Z(t,e){return!!t&&!e||!t&&!!e}function K(t,e){var o=function(t){return!D(t)&&!B(t)&&!z(t)};if(o(e))return t;o(t)&&(t="");var n=function(t){return D(t)?t:B(t)?new Set(t):new Set(t.split(" "))},i=n(t);return n(e).forEach(function(t){return i.add(t)}),D(t)?i:B(t)?Array.from(i):Array.from(i).join(" ")}function X(t,e){return void 0===e&&(e=!1),"object"!=typeof t||null===t?t:M(t)?new Map(t):D(t)?new Set(t):B(t)?H(t):W(t)?R({},t):(e&&console.error("copy error: Object to copy must be a JavaScript object or value."),t)}function Q(t,e,o,n,i){if(void 0===o&&(o=!1),void 0===n&&(n=t),void 0===i&&(i=!1),!$(t)){if((W(t)||B(t))&&"function"==typeof e)try{for(var r=q(Object.keys(t)),a=r.next();!a.done;a=r.next()){var s=a.value,l=t[s];"bottom-up"===o&&(W(l)||B(l))&&Q(l,e,o,n),e(l,s,t,n),"top-down"===o&&(W(l)||B(l))&&Q(l,e,o,n)}}catch(d){u={error:d}}finally{try{a&&!a.done&&(p=r["return"])&&p.call(r)}finally{if(u)throw u.error}}var u,p;i&&("function"!=typeof e&&(console.error("forEach error: Iterator must be a function."),console.error("function",e)),W(t)||B(t)||(console.error("forEach error: Input object must be an object or array."),console.error("object",t)))}}function tt(t,e,o){if(void 0===o&&(o=!1),j(t)){if((W(t)||B(t))&&"function"!=typeof t){var n=B(t)?[]:{};try{for(var i=q(Object.keys(t)),r=i.next();!r.done;r=i.next()){var a=r.value;n[a]=e(t[a],a,t)}}catch(u){s={error:u}}finally{try{r&&!r.done&&(l=i["return"])&&l.call(i)}finally{if(s)throw s.error}}return n}var s,l;o&&("function"!=typeof e&&(console.error("forEachCopy error: Iterator must be a function."),console.error("function",e)),W(t)||B(t)||(console.error("forEachCopy error: Input object must be an object or array."),console.error("object",t)))}}function et(t,e){if(!(t&&["number","string","symbol"].includes(typeof e)&&(W(t)||B(t)||M(t)||D(t))))return!1;if(M(t)||D(t))return t.has(e);if("number"==typeof e){if(B(t))return t[e];e+=""}return t.hasOwnProperty(e)}function ot(t,e,o,n,i){if(void 0===o&&(o=[]),void 0===n&&(n=function(t){return t}),void 0===i&&(i=function(t){return t}),!W(e))return t;W(t)||(t={});try{for(var r=q(Object.keys(e)),a=r.next();!a.done;a=r.next()){var s=a.value;!U(s,o)&&V(e[s])&&(t[n(s)]=i(e[s]))}}catch(p){l={error:p}}finally{try{a&&!a.done&&(u=r["return"])&&u.call(r)}finally{if(l)throw l.error}}return t;var l,u}function nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o,n,i=[];try{for(var r=q(t),a=r.next();!a.done;a=r.next()){var s=a.value;i.includes(s)||i.push(s)}}catch(l){o={error:l}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return i}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o,n,i=null,r=function(e){if(z(e)&&(e=[e]),!(i=null===i?H(e):i.filter(function(t){return e.includes(t)})).length)return{value:[]}};try{for(var a=q(t),s=a.next();!s.done;s=a.next()){var l=r(s.value);if("object"==typeof l)return l.value}}catch(u){o={error:u}}finally{try{s&&!s.done&&(n=a["return"])&&n.call(a)}finally{if(o)throw o.error}}return i}function rt(t){return t&&at(t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," "))}function at(i,t){if(!z(i))return i;var r=["a","an","and","as","at","but","by","en","for","if","in","nor","of","on","or","per","the","to","v","v.","vs","vs.","via"];z(t)&&(t=t.split("|")),B(t)&&(r=r.concat(t));var a=r.map(function(t){return t.toLowerCase()}),s=i===i.toUpperCase()||i===i.toLowerCase(),l="";return(i=i.trim()).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,e){if(s||-1===t.slice(1).search(/[A-Z]|\../)){var o=void 0,n=r[a.indexOf(t.toLowerCase())];return o=n?n===n.toLowerCase()&&(0===e||e+t.length===i.length||":"===l||-1!==i[e-1].search(/[^\s-]/)||"-"!==i[e-1]&&"-"===i[e+t.length])?n[0].toUpperCase()+n.slice(1):n:s?-1!==t.slice(1).search(/\../)?t.toLowerCase():t[0].toUpperCase()+t.slice(1).toLowerCase():t[0].toUpperCase()+t.slice(1),l=t.slice(-1),o}return t})}var st=function(){function t(){}return t.get=function(t,e,o,n,i,r){if(void 0===o&&(o=0),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1),null===t)return!i&&undefined;var a,s,l=this.parse(e,r);if("object"==typeof t&&null!==l){var u=t;if(o>=l.length||n<=-l.length)return t;o<=-l.length&&(o=0),(!V(n)||n>=l.length)&&(n=l.length),l=l.slice(o,n);try{for(var p=q(l),d=p.next();!d.done;d=p.next()){var c=d.value;if("-"===c&&B(u)&&u.length&&(c=u.length-1),M(u)&&u.has(c))u=u.get(c);else{if("object"!=typeof u||null===u||!et(u,c))return r&&(console.error('get error: "'+c+'" key not found in object.'),console.error(e),console.error(t)),!i&&undefined;u=u[c]}}}catch(m){a={error:m}}finally{try{d&&!d.done&&(s=p["return"])&&s.call(p)}finally{if(a)throw a.error}}return!!i||u}return r&&null===l&&console.error("get error: Invalid JSON Pointer: "+e),r&&"object"!=typeof t&&(console.error("get error: Invalid object:"),console.error(t)),!i&&undefined},t.getCopy=function(t,e,o,n,i,r){void 0===o&&(o=0),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var a=this.get(t,e,o,n,i,r);return this.forEachDeepCopy(a)},t.getFirst=function(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=!1),!$(t)){if(B(t)){try{for(var n=q(t),i=n.next();!i.done;i=n.next()){var r=i.value;if(!$(r)){if(!(B(r)&&2<=r.length))return void console.error("getFirst error: Input not in correct format.\nShould be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]");if($(r[0])||$(r[1]))continue;if(l=o?this.getCopy(r[0],r[1]):this.get(r[0],r[1]))return l}}}catch(y){c={error:y}}finally{try{i&&!i.done&&(m=n["return"])&&m.call(n)}finally{if(c)throw c.error}}return e}if(M(t)){try{for(var a=q(t),s=a.next();!s.done;s=a.next()){var l,u=x(s.value,2),p=u[0],d=u[1];if(null!==p&&this.isJsonPointer(d))if(l=o?this.getCopy(p,d):this.get(p,d))return l}}catch(g){f={error:g}}finally{try{s&&!s.done&&(h=a["return"])&&h.call(a)}finally{if(f)throw f.error}}return e}return console.error("getFirst error: Input not in correct format.\nShould be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]"),e;var c,m,f,h}},t.getFirstCopy=function(t,e){return void 0===e&&(e=null),this.getFirst(t,e,!0)},t.set=function(t,e,o,n){void 0===n&&(n=!1);var i=this.parse(e);if(null!==i&&i.length){for(var r=t,a=0;a<i.length-1;++a){var s=i[a];"-"===s&&B(r)&&(s=r.length),M(r)&&r.has(s)?r=r.get(s):(et(r,s)||(r[s]=i[a+1].match(/^(\d+|-)$/)?[]:{}),r=r[s])}var l=i[i.length-1];return B(r)&&"-"===l?r.push(o):n&&B(r)&&!isNaN(+l)?r.splice(l,0,o):M(r)?r.set(l,o):r[l]=o,t}return console.error("set error: Invalid JSON Pointer: "+e),t},t.setCopy=function(t,e,o,n){void 0===n&&(n=!1);var i=this.parse(e);if(null!==i){for(var r=X(t),a=r,s=0;s<i.length-1;++s){var l=i[s];"-"===l&&B(a)&&(l=a.length),M(a)&&a.has(l)?(a.set(l,X(a.get(l))),a=a.get(l)):(et(a,l)||(a[l]=i[s+1].match(/^(\d+|-)$/)?[]:{}),a[l]=X(a[l]),a=a[l])}var u=i[i.length-1];return B(a)&&"-"===u?a.push(o):n&&B(a)&&!isNaN(+u)?a.splice(u,0,o):M(a)?a.set(u,o):a[u]=o,r}return console.error("setCopy error: Invalid JSON Pointer: "+e),t},t.insert=function(t,e,o){return this.set(t,e,o,!0)},t.insertCopy=function(t,e,o){return this.setCopy(t,e,o,!0)},t.remove=function(t,e){var o=this.parse(e);if(null!==o&&o.length){var n=o.pop(),i=this.get(t,o);return B(i)?("-"===n&&(n=i.length-1),i.splice(n,1)):W(i)&&delete i[n],t}return console.error("remove error: Invalid JSON Pointer: "+e),t},t.has=function(t,e){return this.get(t,e,0,null,!0)},t.dict=function(t){var o={};return this.forEachDeep(t,function(t,e){"object"!=typeof t&&(o[e]=t)}),o},t.forEachDeep=function(t,e,o,n,i){if(void 0===e&&(e=function(t){return t}),void 0===o&&(o=!1),void 0===n&&(n=""),void 0===i&&(i=t),"function"==typeof e){if(o||e(t,n,i),W(t)||B(t))try{for(var r=q(Object.keys(t)),a=r.next();!a.done;a=r.next()){var s=a.value,l=n+"/"+this.escape(s);this.forEachDeep(t[s],e,o,l,i)}}catch(d){u={error:d}}finally{try{a&&!a.done&&(p=r["return"])&&p.call(r)}finally{if(u)throw u.error}}var u,p;o&&e(t,n,i)}else console.error("forEachDeep error: Iterator is not a function:",e)},t.forEachDeepCopy=function(t,e,o,n,i){if(void 0===e&&(e=function(t){return t}),void 0===o&&(o=!1),void 0===n&&(n=""),void 0===i&&(i=t),"function"!=typeof e)return console.error("forEachDeepCopy error: Iterator is not a function:",e),null;if(W(t)||B(t)){var r=B(t)?H(t):R({},t);o||(r=e(r,n,i));try{for(var a=q(Object.keys(r)),s=a.next();!s.done;s=a.next()){var l=s.value,u=n+"/"+this.escape(l);r[l]=this.forEachDeepCopy(r[l],e,o,u,i)}}catch(c){p={error:c}}finally{try{s&&!s.done&&(d=a["return"])&&d.call(a)}finally{if(p)throw p.error}}return o&&(r=e(r,n,i)),r}return e(t,n,i);var p,d},t.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")},t.unescape=function(t){return t.toString().replace(/~1/g,"/").replace(/~0/g,"~")},t.parse=function(t,e){return void 0===e&&(e=!1),this.isJsonPointer(t)?B(t)?t:"string"==typeof t?("#"===t[0]&&(t=t.slice(1)),""===t||"/"===t?[]:t.slice(1).split("/").map(this.unescape)):void 0:(e&&console.error("parse error: Invalid JSON Pointer: "+t),null)},t.compile=function(t,e,o){var n=this;return void 0===e&&(e=""),void 0===o&&(o=!1),"#"===t?"":this.isJsonPointer(t)?B(t)?0===t.length?"":"/"+t.map(function(t){return""===t?e:n.escape(t)}).join("/"):"string"==typeof t?("#"===t[0]&&(t=t.slice(1)),t):void 0:(o&&console.error("compile error: Invalid JSON Pointer: "+t),null)},t.toKey=function(t,e){void 0===e&&(e=!1);var o=this.parse(t,e);return null===o?null:o.length?o[o.length-1]:""},t.isJsonPointer=function(t){if(B(t))return t.every(function(t){return"string"==typeof t});if(z(t)){if(""===t||"#"===t)return!0;if("/"===t[0]||"#/"===t.slice(0,2))return!/(~[^01]|~$)/g.test(t)}return!1},t.isSubPointer=function(t,e,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=!1),this.isJsonPointer(t)&&this.isJsonPointer(e))return(t=this.compile(t,"",n))===(e=this.compile(e,"",n))?o:t+"/"===e.slice(0,t.length+1);if(n){var i="";this.isJsonPointer(t)||(i+=" 1: "+t),this.isJsonPointer(e)||(i+=" 2: "+e),console.error("isSubPointer error: Invalid JSON Pointer "+i)}},t.toIndexedPointer=function(t,o,n){if(void 0===n&&(n=null),this.isJsonPointer(t)&&B(o)){var i=this.compile(t);if(M(n)){var r=0;return i.replace(/\/\-(?=\/|$)/g,function(t,e){return n.has(i.slice(0,e))?"/"+o[r++]:t})}try{for(var e=q(o),a=e.next();!a.done;a=e.next()){var s=a.value;i=i.replace("/-","/"+s)}}catch(p){l={error:p}}finally{try{a&&!a.done&&(u=e["return"])&&u.call(e)}finally{if(l)throw l.error}}return i}var l,u;this.isJsonPointer(t)||console.error("toIndexedPointer error: Invalid JSON Pointer: "+t),B(o)||console.error("toIndexedPointer error: Invalid indexArray: "+o)},t.toGenericPointer=function(t,e){if(void 0===e&&(e=new Map),this.isJsonPointer(t)&&M(e)){for(var o=this.parse(t),n=1;n<o.length;n++){var i=this.compile(o.slice(0,n));e.has(i)&&e.get(i)<=+o[n]&&(o[n]="-")}return this.compile(o)}this.isJsonPointer(t)||console.error("toGenericPointer error: invalid JSON Pointer: "+t),M(e)||console.error("toGenericPointer error: invalid arrayMap: "+e)},t.toControlPointer=function(t,e,o){void 0===o&&(o=!1);var n,i,r=this.parse(t),a=[],s=e;if(null!==r){try{for(var l=q(r),u=l.next();!u.done;u=l.next()){var p=u.value;if(et(s,"controls")&&(a.push("controls"),s=s.controls),B(s)&&"-"===p)a.push((s.length-1).toString()),s=s[s.length-1];else if(et(s,p))a.push(p),s=s[p];else{if(o)return console.error('toControlPointer error: Unable to find "'+p+'" item in FormGroup.'),console.error(t),void console.error(e);a.push(p),s={controls:{}}}}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l["return"])&&i.call(l)}finally{if(n)throw n.error}}return this.compile(a)}console.error("toControlPointer error: Invalid JSON Pointer: "+t)},t.toSchemaPointer=function(t,e){if(this.isJsonPointer(t)&&"object"==typeof e){var o=this.parse(t);if(!o.length)return"";var n=o.shift();if("object"===e.type||e.properties||e.additionalProperties){if((e.properties||{})[n])return"/properties/"+this.escape(n)+this.toSchemaPointer(o,e.properties[n]);if(e.additionalProperties)return"/additionalProperties"+this.toSchemaPointer(o,e.additionalProperties)}if(("array"===e.type||e.items)&&(_(n)||"-"===n||""===n)){var i="-"===n||""===n?0:+n;if(B(e.items)){if(i<e.items.length)return"/items/"+i+this.toSchemaPointer(o,e.items[i]);if(e.additionalItems)return"/additionalItems"+this.toSchemaPointer(o,e.additionalItems)}else{if(W(e.items))return"/items"+this.toSchemaPointer(o,e.items);if(W(e.additionalItems))return"/additionalItems"+this.toSchemaPointer(o,e.additionalItems)}}return console.error("toSchemaPointer error: Data pointer "+t+" not compatible with schema "+e),null}return this.isJsonPointer(t)||console.error("toSchemaPointer error: Invalid JSON Pointer: "+t),"object"!=typeof e&&console.error("toSchemaPointer error: Invalid JSON Schema: "+e),null},t.toDataPointer=function(t,e,o){if(void 0===o&&(o=!1),this.isJsonPointer(t)&&"object"==typeof e&&this.has(e,t)){var n=this.parse(t);if(!n.length)return"";var i=n.shift();if("properties"===i||"items"===i&&B(e.items)){var r,a=n.shift();return null===(r=this.toDataPointer(n,e[i][a]))?null:"/"+a+r}if("additionalItems"===i||"items"===i&&W(e.items))return null===(r=this.toDataPointer(n,e[i]))?null:"/-"+r;if(["allOf","anyOf","oneOf"].includes(i)){a=n.shift();return this.toDataPointer(n,e[i][a])}return"not"===i?this.toDataPointer(n,e[i]):(["contains","definitions","dependencies","additionalItems","additionalProperties","patternProperties","propertyNames"].includes(i)&&o&&console.error("toDataPointer error: Ambiguous location"),"")}return o&&(this.isJsonPointer(t)||console.error("toDataPointer error: Invalid JSON Pointer: "+t),"object"!=typeof e&&console.error("toDataPointer error: Invalid JSON Schema: "+e),"object"!=typeof e&&console.error("toDataPointer error: Pointer "+t+" invalid for Schema: "+e)),null},t.parseObjectPath=function(t){if(B(t))return t;if(this.isJsonPointer(t))return this.parse(t);if("string"==typeof t){for(var e=0,o=[];e<t.length;){var n=t.indexOf(".",e),i=t.indexOf("[",e);if(-1===n&&-1===i)o.push(t.slice(e)),e=t.length;else if(-1!==n&&(n<i||-1===i))o.push(t.slice(e,n)),e=n+1;else{e<i&&(o.push(t.slice(e,i)),e=i);var r=t.charAt(i+1);if('"'===r||"'"===r){for(var a=t.indexOf(r+"]",i);-1!==a&&"\\"===t.charAt(a-1);)a=t.indexOf(r+"]",a+2);-1===a&&(a=t.length),o.push(t.slice(e+2,a).replace(new RegExp("\\"+r,"g"),r)),e=a+2}else{-1===(a=t.indexOf("]",i))&&(a=t.length),o.push(t.slice(e+1,a)),e=a+1}"."===t.charAt(e)&&e++}}return o}console.error("parseObjectPath error: Input object path must be a string.")},t.decorators=[{type:r.Injectable}],t}(),lt={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d(?::[0-5]\d)?(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,color:/^\s*(#(?:[\da-f]{3}){1,2}|rgb\((?:\d{1,3},\s*){2}\d{1,3}\)|rgba\((?:\d{1,3},\s*){3}\d*\.?\d+\)|hsl\(\d{1,3}(?:,\s*\d{1,3}%){2}\)|hsla\(\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\))\s*$/gi,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,regex:function(t){if(/[^\\]\\Z/.test(t))return!1;try{return!0}catch(e){return!1}}},ut=function(){function h(){}return h.required=function(t){switch(t===undefined&&(t=!0),t){case!0:return function(t,e){return void 0===e&&(e=!1),e?null:j(t.value)?null:{required:!0}};case!1:return h.nullValidator;default:return j(t.value)?null:{required:!0}}},h.type=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value;return Z(B(n)?n.some(function(t){return P(o,t)}):P(o,n),e)?null:{type:{requiredType:n,currentValue:o}}}:h.nullValidator},h["enum"]=function(i){return B(i)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value,n=function(t,e){return t===e||_(t)&&+e==+t||O(t,"strict")&&S(e,"boolean")===t||null===t&&!j(e)||E.isEqual(t,e)};return Z(B(o)?o.every(function(e){return i.some(function(t){return n(t,e)})}):i.some(function(t){return n(t,o)}),e)?null:{"enum":{allowedValues:i,currentValue:o}}}:h.nullValidator},h["const"]=function(r){return j(r)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o,n,i=t.value;return Z((o=r)===(n=i)||_(o)&&+n==+o||O(o,"strict")&&S(n,"boolean")===o||null===o&&!j(n),e)?null:{"const":{requiredValue:r,currentValue:i}}}:h.nullValidator},h.minLength=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=z(t.value)?t.value.length:0;return Z(n<=o,e)?null:{minLength:{minimumLength:n,currentLength:o}}}:h.nullValidator},h.maxLength=function(n){return j(n)?function(t,e){void 0===e&&(e=!1);var o=z(t.value)?t.value.length:0;return Z(o<=n,e)?null:{maxLength:{maximumLength:n,currentLength:o}}}:h.nullValidator},h.pattern=function(r,a){return void 0===a&&(a=!1),j(r)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o,n;"string"==typeof r?(n=a?"^"+r+"$":r,o=new RegExp(n)):(n=r.toString(),o=r);var i=t.value;return Z(!!z(i)&&o.test(i),e)?null:{pattern:{requiredPattern:n,currentValue:i}}}:h.nullValidator},h.format=function(r){return j(r)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o,n=t.value;if(z(n)){var i=lt[r];"object"==typeof i?o=i.test(n):"function"==typeof i?o=i(n):(console.error('format validator error: "'+r+'" is not a recognized format.'),o=!0)}else o=["date","time","date-time"].includes(r)&&"[object Date]"===Object.prototype.toString.call(n);return Z(o,e)?null:{format:{requiredFormat:r,currentValue:n}}}:h.nullValidator},h.minimum=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value;return Z(!_(o)||n<=o,e)?null:{minimum:{minimumValue:n,currentValue:o}}}:h.nullValidator},h.exclusiveMinimum=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value;return Z(!_(o)||+o<n,e)?null:{exclusiveMinimum:{exclusiveMinimumValue:n,currentValue:o}}}:h.nullValidator},h.maximum=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value;return Z(!_(o)||+o<=n,e)?null:{maximum:{maximumValue:n,currentValue:o}}}:h.nullValidator},h.exclusiveMaximum=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value;return Z(!_(o)||+o<n,e)?null:{exclusiveMaximum:{exclusiveMaximumValue:n,currentValue:o}}}:h.nullValidator},h.multipleOf=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=t.value;return Z(_(o)&&o%n==0,e)?null:{multipleOf:{multipleOfValue:n,currentValue:o}}}:h.nullValidator},h.minProperties=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=Object.keys(t.value).length||0;return Z(n<=o,e)?null:{minProperties:{minimumProperties:n,currentProperties:o}}}:h.nullValidator},h.maxProperties=function(n){return j(n)?function(t,e){void 0===e&&(e=!1);var o=Object.keys(t.value).length||0;return Z(o<=n,e)?null:{maxProperties:{maximumProperties:n,currentProperties:o}}}:h.nullValidator},h.dependencies=function(f){return"object"!==L(f)||$(f)?h.nullValidator:function(c,m){if(void 0===m&&(m=!1),$(c.value))return null;var t=w(tt(f,function(t,e){if(!j(c.value[e]))return null;var o,n,i,r,a={},s={};"array"===L(f[e])?o=f[e]:"object"===L(f[e])&&(o=f[e].required||[],s=f[e].properties||{});try{for(var l=q(o),u=l.next();!u.done;u=l.next()){var p=u.value;Z(!j(c.value[p]),m)&&(a[p]={required:!0})}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l["return"])&&i.call(l)}finally{if(n)throw n.error}}return $(a=w(a,tt(s,function(i,r){var t,e=w(tt(i,function(t,e){var o=null;if("maximum"===t||"minimum"===t){var n=!!i["exclusiveM"+t.slice(1)];o=h[t](e,n)}else"function"==typeof h[t]&&(o=h[t](e));return V(o)?o(c.value[r]):null}));return $(e)?null:((t={})[r]=e,t)})))?null:((r={})[e]=a,r)}));return $(t)?null:t}},h.minItems=function(n){return j(n)?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=B(t.value)?t.value.length:0;return Z(n<=o,e)?null:{minItems:{minimumItems:n,currentItems:o}}}:h.nullValidator},h.maxItems=function(n){return j(n)?function(t,e){void 0===e&&(e=!1);var o=B(t.value)?t.value.length:0;return Z(o<=n,e)?null:{maxItems:{maximumItems:n,currentItems:o}}}:h.nullValidator},h.uniqueItems=function(t){return void 0===t&&(t=!0),t?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;for(var o=t.value.slice().sort(),n=[],i=1;i<o.length;i++)o[i-1]===o[i]&&n.includes(o[i])&&n.push(o[i]);return Z(!n.length,e)?null:{uniqueItems:{duplicateItems:n}}}:h.nullValidator},h.contains=function(n){return void 0===n&&(n=!0),n?function(t,e){if(void 0===e&&(e=!1),$(t.value)||!B(t.value))return null;var o=t.value;return Z(!0,e)?null:{contains:{requiredItem:n,currentItems:o}}}:h.nullValidator},h.nullValidator=function(t){return null},h.composeAnyOf=function(n){if(!n)return null;var i=n.filter(V);return 0===i.length?null:function(t,e){void 0===e&&(e=!1);var o=I(t,i,e).filter(V);return Z(n.length>o.length,e)?null:w.apply(void 0,H(o,[{anyOf:!e}]))}},h.composeOneOf=function(i){if(!i)return null;var r=i.filter(V);return 0===r.length?null:function(t,e){void 0===e&&(e=!1);var o=I(t,r);if(Z(1===i.length-o.filter(V).length,e))return null;var n=I(t,r,e);return w.apply(void 0,H(o,n,[{oneOf:!e}]))}},h.composeAllOf=function(t){if(!t)return null;var n=t.filter(V);return 0===n.length?null:function(t,e){void 0===e&&(e=!1);var o=F(I(t,n,e));return Z(null===o,e)?null:w(o,{allOf:!e})}},h.composeNot=function(n){return n?function(t,e){if(void 0===e&&(e=!1),$(t.value))return null;var o=n(t,!e);return Z(null===o,e)?null:w(o,{not:!e})}:null},h.compose=function(t){if(!t)return null;var o=t.filter(V);return 0===o.length?null:function(t,e){return void 0===e&&(e=!1),F(I(t,o,e))}},h.composeAsync=function(t){if(!t)return null;var o=t.filter(V);return 0===o.length?null:function(t){var e=C(t,o).map(Y);return a.map.call(i.forkJoin(e),F)}},h.min=function(n){return j(n)?function(t){if($(t.value)||$(n))return null;var e=parseFloat(t.value),o=t.value;return isNaN(e)||n<=e?null:{min:{min:n,actual:o}}}:h.nullValidator},h.max=function(n){return j(n)?function(t){if($(t.value)||$(n))return null;var e=parseFloat(t.value),o=t.value;return isNaN(e)||e<=n?null:{max:{max:n,actual:o}}}:h.nullValidator},h.requiredTrue=function(t){return t?!0===t.value?null:{required:!0}:h.nullValidator},h.email=function(t){if(!t)return h.nullValidator;return/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/.test(t.value)?null:{email:!0}},h}();function pt(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];if((A=A.filter(function(t){return!$(t)})).some(function(t){return!W(t)}))return null;var e,o,n,i,S={};try{for(var r=q(A),a=r.next();!a.done;a=r.next()){var T=a.value,s=function(t){var e,o,n,i,r,a,s,l,u,p,d=S[t],c=T[t];if(!et(S,t)||E.isEqual(d,c))S[t]=c;else switch(t){case"allOf":if(!B(d)||!B(c))return{value:{allOf:H(A)}};S.allOf=pt.apply(void 0,H(d,c));break;case"additionalItems":case"additionalProperties":case"contains":case"propertyNames":if(W(d)&&W(c))S[t]=pt(d,c);else{if("additionalProperties"!==t||!1!==d&&!1!==c)return{value:{allOf:H(A)}};S.combinedSchema=!1}break;case"anyOf":case"oneOf":case"enum":if(!B(d)||!B(c))return{value:{allOf:H(A)}};if(S[t]=d.filter(function(e){return-1<c.findIndex(function(t){return E.isEqual(e,t)})}),!S[t].length)return{value:{allOf:H(A)}};break;case"definitions":if(!W(d)||!W(c))return{value:{allOf:H(A)}};var m=R({},d);try{for(var f=q(Object.keys(c)),h=f.next();!h.done;h=f.next()){if(et(m,N=h.value)&&!E.isEqual(m[N],c[N]))return{value:{allOf:H(A)}};m[N]=c[N]}}catch(D){n={error:D}}finally{try{h&&!h.done&&(i=f["return"])&&i.call(f)}finally{if(n)throw n.error}}S.definitions=m;break;case"dependencies":if(!W(d)||!W(c))return{value:{allOf:H(A)}};m=R({},d);try{for(var y=q(Object.keys(c)),g=y.next();!g.done;g=y.next()){if(!et(m,N=g.value)||E.isEqual(m[N],c[N]))m[N]=c[N];else if(B(c[N])&&B(m[N]))m[N]=nt.apply(void 0,H(m[N],c[N]));else{if(!B(c[N])&&!W(c[N])||!B(m[N])&&!W(m[N]))return{value:{allOf:H(A)}};var b=B(S.required)?S.required:[],v=B(m[N])?{required:nt.apply(void 0,H(b,[m[N]]))}:m[N],x=B(c[N])?{required:nt.apply(void 0,H(b,[c[N]]))}:c[N];m[N]=pt(v,x)}}}catch(L){r={error:L}}finally{try{g&&!g.done&&(a=y["return"])&&a.call(y)}finally{if(r)throw r.error}}S.dependencies=m;break;case"items":if(B(d)&&B(c)){if(S.items=d.filter(function(e){return-1<c.findIndex(function(t){return E.isEqual(e,t)})}),!S.items.length)return{value:{allOf:H(A)}}}else if(W(d)&&W(c))S.items=pt(d,c);else if(B(d)&&W(c))S.items=d.map(function(t){return pt(t,c)});else{if(!W(d)||!B(c))return{value:{allOf:H(A)}};S.items=c.map(function(t){return pt(t,d)})}break;case"multipleOf":if(!_(d)||!_(c))return{value:{allOf:H(A)}};var I=function(t,e){return e?I(e,t%e):t};S.multipleOf=(e=d)*(o=c)/I(e,o);break;case"maximum":case"exclusiveMaximum":case"maxLength":case"maxItems":case"maxProperties":if(!_(d)||!_(c))return{value:{allOf:H(A)}};S[t]=Math.min(d,c);break;case"minimum":case"exclusiveMinimum":case"minLength":case"minItems":case"minProperties":if(!_(d)||!_(c))return{value:{allOf:H(A)}};S[t]=Math.max(d,c);break;case"not":if(!W(d)||!W(c))return{value:{allOf:H(A)}};var C=[d,c].reduce(function(t,e){return B(e.anyOf)&&1===Object.keys(e).length?H(t,e.anyOf):H(t,[e])},[]);S.not={anyOf:C};break;case"patternProperties":if(!W(d)||!W(c))return{value:{allOf:H(A)}};m=R({},d);try{for(var w=q(Object.keys(c)),F=w.next();!F.done;F=w.next()){if(!et(m,N=F.value)||E.isEqual(m[N],c[N]))m[N]=c[N];else{if(!W(c[N])||!W(m[N]))return{value:{allOf:H(A)}};m[N]=pt(m[N],c[N])}}}catch(P){s={error:P}}finally{try{F&&!F.done&&(l=w["return"])&&l.call(w)}finally{if(s)throw s.error}}S.patternProperties=m;break;case"properties":if(!W(d)||!W(c))return{value:{allOf:H(A)}};var j=R({},d);et(c,"additionalProperties")&&Object.keys(d).filter(function(t){return!Object.keys(c).includes(t)}).forEach(function(t){!1===c.additionalProperties?delete j[t]:W(c.additionalProperties)&&(j[t]=pt(j[t],c.additionalProperties))});try{for(var k=q(Object.keys(c)),O=k.next();!O.done;O=k.next()){var N=O.value;if(E.isEqual(j[N],c[N])||!et(j,N)&&!et(j,"additionalProperties"))j[N]=c[N];else if(!et(j,N)&&et(j,"additionalProperties"))W(j.additionalProperties)&&(j[N]=pt(j.additionalProperties,c[N]));else{if(!W(c[N])||!W(j[N]))return{value:{allOf:H(A)}};j[N]=pt(j[N],c[N])}}}catch(V){u={error:V}}finally{try{O&&!O.done&&(p=k["return"])&&p.call(k)}finally{if(u)throw u.error}}S.properties=j;break;case"required":if(B(d)&&B(c))S.required=nt.apply(void 0,H(d,c));else{if("boolean"!=typeof c||"boolean"!=typeof d)return{value:{allOf:H(A)}};S.required=!!d||!!c}break;case"$schema":case"$id":case"id":break;case"title":case"description":S[t]=c;break;case"type":if(!B(c)&&!z(c)||!B(d)&&!z(d))return{value:{allOf:H(A)}};var M=it(d,c);if(!M.length)return{value:{allOf:H(A)}};S.type=1<M.length?M:M[0];break;case"uniqueItems":S.uniqueItems=!!d||!!c;break;default:return{value:{allOf:H(A)}}}};try{for(var l=q(Object.keys(T)),u=l.next();!u.done;u=l.next()){var p=s(u.value);if("object"==typeof p)return p.value}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l["return"])&&i.call(l)}finally{if(n)throw n.error}}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(o=r["return"])&&o.call(r)}finally{if(e)throw e.error}}return S}function dt(t){}function ct(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!0);var n,i,r={},a=function(t){var e=L(t,"strict");return{integer:"number","null":"string"}[e]||e},s=function(t){return ct(t,e,!1)};if(o&&(r.$schema="http://json-schema.org/draft-06/schema#"),r.type=a(t),"object"===r.type){r.properties={},e&&(r.required=[]);try{for(var l=q(Object.keys(t)),u=l.next();!u.done;u=l.next()){var p=u.value;r.properties[p]=s(t[p]),e&&r.required.push(p)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=l["return"])&&i.call(l)}finally{if(n)throw n.error}}}else"array"===r.type&&(r.items=t.map(s),1===new Set(t.map(a)).size&&(r.items=r.items.reduce(function(t,e){return R({},t,e)},{})),e&&(r.minItems=1));return r}function mt(t,e,o){void 0===o&&(o="schema");var n=st.parse(e);if(null===n)return console.error("getFromSchema error: Invalid JSON Pointer: "+e),null;var i=t,r=[],a=n.length;"parent"===o.slice(0,6)&&n.length--;for(var s=0;s<a;++s){var l=n[s],u=!1;if("object"!=typeof i)return console.error('getFromSchema error: Unable to find "'+l+'" key in schema.'),console.error(t),console.error(e),null;if("array"!==i.type||isNaN(l)&&"-"!==l?"object"===i.type&&(W(i.properties)&&et(i.properties,l)?(u=!0,i=i.properties[l],r.push("properties",l)):W(i.additionalProperties)?(u=!0,i=i.additionalProperties,r.push("additionalProperties")):!1!==i.additionalProperties&&(u=!0,i={},r.push("additionalProperties"))):(et(i,"items")&&(W(i.items)?(u=!0,i=i.items,r.push("items")):B(i.items)&&!isNaN(l)&&i.items.length>=+l&&(u=!0,i=i.items[+l],r.push("items",l))),!u&&W(i.additionalItems)?(u=!0,i=i.additionalItems,r.push("additionalItems")):!1!==i.additionalItems&&(u=!0,i={},r.push("additionalItems"))),!u)return console.error('getFromSchema error: Unable to find "'+l+'" item in schema.'),console.error(t),void console.error(e)}return"Pointer"===o.slice(-7)?r:i}function ft(t,e,o){if(void 0===o&&(o=new Map),!t)return"";var n=st.toGenericPointer(st.compile(t),o);if(-1===n.indexOf("/"))return n;for(var i=!0;i;)i=!1,e.forEach(function(t,e){if(st.isSubPointer(t,e))for(;st.isSubPointer(e,n,!0);)n=st.toGenericPointer(t+n.slice(e.length),o),i=!0});return n}function ht(t,e){void 0===e&&(e=null);var o=st.getFirst([[t,"/x-schema-form/type"],[t,"/x-schema-form/widget/component"],[t,"/x-schema-form/widget"],[t,"/widget/component"],[t,"/widget"]]);if(z(o))return yt(o,t,e);var n=t.type;if(n){if(B(n)&&(n=U("object",n)&&et(t,"properties")?"object":U("array",n)&&et(t,"items")?"array":U("array",n)&&et(t,"additionalItems")?"array":U("string",n)?"string":U("number",n)?"number":U("integer",n)?"integer":U("boolean",n)?"boolean":"unknown"),"boolean"===n)return"checkbox";if("object"===n){if(et(t,"properties")||et(t,"additionalProperties"))return"section";if(et(t,"$ref"))return"$ref"}if("array"===n)return et(st.getFirst([[t,"/items"],[t,"/additionalItems"]])||{},"enum")&&1!==t.maxItems?yt("checkboxes",t,e):"array";if("null"===n)return"none";if(st.has(e,"/options/titleMap")||et(t,"enum")||vt(t,null,!0))return"select";if("number"===n||"integer"===n)return("integer"===n||et(t,"multipleOf"))&&et(t,"maximum")&&et(t,"minimum")?"range":n;if("string"===n)return{color:"color",date:"date","date-time":"datetime-local",email:"email",uri:"url"}[t.format]||"text"}return et(t,"$ref")?"$ref":B(t.oneOf)||B(t.anyOf)?"one-of":(console.error("getInputType error: Unable to determine input type for "+n),console.error("schema",t),e&&console.error("layoutNode",e),"none")}function yt(t,e,o){return void 0===o&&(o=null),!z(t)||"checkbox"!==t.slice(0,8)&&"radio"!==t.slice(0,5)?t:!0===st.getFirst([[o,"/inline"],[o,"/options/inline"],[e,"/inline"],[e,"/x-schema-form/inline"],[e,"/x-schema-form/options/inline"],[e,"/x-schema-form/widget/inline"],[e,"/x-schema-form/widget/component/inline"],[e,"/x-schema-form/widget/component/options/inline"],[e,"/widget/inline"],[e,"/widget/component/inline"],[e,"/widget/component/options/inline"]])?"radio"===t.slice(0,5)?"radios-inline":"checkboxes-inline":t}function gt(t,e){if(!W(t))return console.error("isInputRequired error: Input schema must be an object."),!1;var o=st.parse(e);if(B(o)){if(!o.length)return!0===t.required;var n=o.pop(),i=o[o.length-1];["properties","additionalProperties","patternProperties","items","additionalItems"].includes(i)&&o.pop();var r=st.get(t,o)||{};if(B(r.required))return r.required.includes(n);if("array"===r.type)return et(r,"minItems")&&_(n)&&+r.minItems>+n}return!1}function bt(t,e,o){if(W(t)&&W(t.options)){var i={},r=function(t){return"ui:"===t.slice(0,3).toLowerCase()?t.slice(3):t};if(ot(i,o.formOptions.defautWidgetOptions,[],r),[[st.get(e,"/ui:widget/options"),[]],[st.get(e,"/ui:widget"),[]],[e,["additionalProperties","additionalItems","properties","items","required","type","x-schema-form","$ref"]],[st.get(e,"/x-schema-form/options"),[]],[st.get(e,"/x-schema-form"),["items","options"]],[t,["_id","$ref","arrayItem","arrayItemType","dataPointer","dataType","items","key","name","options","recursiveReference","type","widget"]],[t.options,[]]].forEach(function(t){var e=x(t,2),o=e[0],n=e[1];return ot(i,o,n,r)}),!et(i,"titleMap")){var n=null;(n=vt(e,i.flatList))&&(i.titleMap=n),et(i,"titleMap")||et(i,"enum")||!et(e,"items")||(st.has(e,"/items/titleMap")?i.titleMap=e.items.titleMap:st.has(e,"/items/enum")?(i["enum"]=e.items["enum"],!et(i,"enumNames")&&st.has(e,"/items/enumNames")&&(i.enumNames=e.items.enumNames)):st.has(e,"/items/oneOf")&&(n=vt(e.items,i.flatList))&&(i.titleMap=n))}"integer"!==e.type||j(i.multipleOf)||(i.multipleOf=1),st.has(i,"/autocomplete/source")?i.typeahead=i.autocomplete:st.has(i,"/tagsinput/source")?i.typeahead=i.tagsinput:st.has(i,"/tagsinput/typeahead/source")&&(i.typeahead=i.tagsinput.typeahead),t.options=i}}function vt(t,e,o){void 0===t&&(t={}),void 0===e&&(e=null),void 0===o&&(o=!1);var n=null,i=t.oneOf||t.anyOf||null;if(B(i)&&i.every(function(t){return t.title})){if(i.every(function(t){return B(t["enum"])&&1===t["enum"].length})){if(o)return!0;n=i.map(function(t){return{name:t.title,value:t["enum"][0]}})}else if(i.every(function(t){return t["const"]})){if(o)return!0;n=i.map(function(t){return{name:t.title,value:t["const"]}})}if(!1!==e&&1<(n||[]).filter(function(t){return((t||{}).name||"").indexOf(": ")}).length){var r=n.map(function(t){var e=x(t.name.split(/: (.+)/),2),o=e[0],n=e[1];return o&&n?R({},t,{group:o,name:n}):t});(!0===e||r.some(function(t,e){return e&&et(t,"group")&&t.group===r[e-1].group}))&&(n=r)}}return!o&&n}function xt(i){if(!W(i))return null;var r={};if(et(i,"type"))switch(i.type){case"string":Q(["pattern","format","minLength","maxLength"],function(t){et(i,t)&&(r[t]=[i[t]])});break;case"number":case"integer":Q(["Minimum","Maximum"],function(t){var e="exclusive"+t,o=t.toLowerCase();if(et(i,o)){var n=et(i,e)&&!0===i[e];r[o]=[i[o],n]}}),Q(["multipleOf","type"],function(t){et(i,t)&&(r[t]=[i[t]])});break;case"object":Q(["minProperties","maxProperties","dependencies"],function(t){et(i,t)&&(r[t]=[i[t]])});break;case"array":Q(["minItems","maxItems","uniqueItems"],function(t){et(i,t)&&(r[t]=[i[t]])})}return et(i,"enum")&&(r["enum"]=[i["enum"]]),r}function It(e,s,l,u,p){if(W(e)){var n=new Set,a=new Set,d=new Map,c=new Map,o={};st.forEachDeep(e,function(t,e){if(et(t,"$ref")&&z(t.$ref)){var o=st.compile(t.$ref);n.add(o),a.add(e+"~~"+o),d.set(e,o)}}),n.forEach(function(t){return o[t]=Ct(e,t)});for(var m=!0;m;)m=!1,Array.from(d).forEach(function(t){var e=x(t,2),i=e[0],r=e[1];return Array.from(d).filter(function(t){var e=x(t,2),o=e[0],n=e[1];return st.isSubPointer(r,o,!0)&&!st.isSubPointer(n,r,!0)&&!a.has(i+o.slice(r.length)+"~~"+n)}).forEach(function(t){var e=x(t,2),o=e[0],n=e[1];a.add(i+o.slice(r.length)+"~~"+n),m=!0})});Array.from(a).map(function(t){return t.split("~~")}).filter(function(t){var e=x(t,2),o=e[0],n=e[1];return st.isSubPointer(n,o)}).forEach(function(t){var e=x(t,2),o=e[0],n=e[1];return c.set(o,n)}),Array.from(d).filter(function(t){var e=x(t,2),o=e[0];e[1];return Array.from(c.keys()).every(function(t){return!st.isSubPointer(o,t,!0)})}).forEach(function(t){var e=x(t,2),i=e[0],r=e[1];return Array.from(c).filter(function(t){var e=x(t,2),o=e[0];e[1];return!c.has(i+o.slice(r.length))&&st.isSubPointer(r,o,!0)&&!st.isSubPointer(r,i,!0)}).forEach(function(t){var e=x(t,2),o=e[0],n=e[1];return c.set(i+o.slice(r.length),i+n.slice(r.length))})});var f=R({},e);return delete f.definitions,f=Ct(f,"",o,c),st.forEachDeep(f,function(t,e){if(z(t.$ref)){var o=st.compile(t.$ref);st.isSubPointer(o,e,!0)||(o=ft(e,c),st.set(f,e,{$ref:"#"+o})),et(s,"refPointer")||(s[o]=o.length?Ct(f,o,s,c):f),l.has(e)||l.set(e,o);var n=st.toDataPointer(e,f);if(!u.has(n)){var i=st.toDataPointer(o,f);u.set(n,i)}}if("array"===t.type&&(et(t,"items")||et(t,"additionalItems"))){var r=st.toDataPointer(e,f);if(!p.has(r)){var a=B(t.items)?t.items.length:0;p.set(r,a)}}},!0),f}console.error("resolveSchemaReferences error: schema must be an object.")}function Ct(r,t,a,s,l){if(void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=[]),!a||!s)return st.getCopy(r,t);"string"!=typeof t&&(t=st.compile(t)),l=H(l,[t]);var e=null;if(""===t)e=E.cloneDeep(r);else{var o=ft(t,s);o!==t&&(l=H(l,[o])),e=st.getFirstCopy([[a,[o]],[r,t],[r,o]])}return st.forEachDeepCopy(e,function(t,e){if(W(t)){if(z(t.$ref)){var o=st.compile(t.$ref);if(o.length&&l.every(function(t){return!st.isSubPointer(o,t,!0)})){var n=Ct(r,o,a,s,l);if(1===Object.keys(t).length)return n;var i=R({},t);return delete i.$ref,pt(n,i)}}if(B(t.allOf))return wt(t);if("array"===t.type&&B(t.required))return Ft(t)}return t},!0,t)}function wt(t){if(!W(t)||!B(t.allOf))return t;var e=pt.apply(void 0,H(t.allOf));if(1<Object.keys(t).length){var o=R({},t);delete o.allOf,e=pt(e,o)}return e}function Ft(e){if("array"===e.type&&B(e.required)){var o=et(e.items,"properties")?"items":et(e.additionalItems,"properties")?"additionalItems":null;o&&!et(e[o],"required")&&(et(e[o],"additionalProperties")||e.required.every(function(t){return et(e[o].properties,t)}))&&((e=E.cloneDeep(e))[o].required=e.required,delete e.required)}return e}function jt(t,e){void 0===e&&(e={});var n=e.draft||null,i=e.changed||!1;if("object"!=typeof t)return t;if("function"==typeof t.map)return H(t.map(function(t){return jt(t,{changed:i,draft:n})}));var o,r,a=R({},t),s=["array","boolean","integer","null","number","object","string"];if("string"==typeof a.$schema&&/http\:\/\/json\-schema\.org\/draft\-0\d\/schema\#/.test(a.$schema)&&(n=a.$schema[30]),a.contentEncoding&&(a.media={binaryEncoding:a.contentEncoding},delete a.contentEncoding,i=!0),"object"==typeof a["extends"]&&(a.allOf="function"==typeof a["extends"].map?a["extends"].map(function(t){return jt(t,{changed:i,draft:n})}):[jt(a["extends"],{changed:i,draft:n})],delete a["extends"],i=!0),a.disallow&&("string"==typeof a.disallow?a.not={type:a.disallow}:"function"==typeof a.disallow.map&&(a.not={anyOf:a.disallow.map(function(t){return"object"==typeof t?t:{type:t}})}),delete a.disallow,i=!0),"object"==typeof a.dependencies&&Object.keys(a.dependencies).some(function(t){return"string"==typeof a.dependencies[t]})&&(a.dependencies=R({},a.dependencies),Object.keys(a.dependencies).filter(function(t){return"string"==typeof a.dependencies[t]}).forEach(function(t){return a.dependencies[t]=[a.dependencies[t]]}),i=!0),"number"==typeof a.maxDecimal&&(a.multipleOf=1/Math.pow(10,a.maxDecimal),delete a.divisibleBy,i=!0,n&&2!==n||(n=1)),"number"==typeof a.divisibleBy&&(a.multipleOf=a.divisibleBy,delete a.divisibleBy,i=!0),"number"==typeof a.minimum&&!1===a.minimumCanEqual?(a.exclusiveMinimum=a.minimum,delete a.minimum,i=!0,n||(n=2)):"boolean"==typeof a.minimumCanEqual&&(delete a.minimumCanEqual,i=!0,n||(n=2)),"number"==typeof a.minimum&&!0===a.exclusiveMinimum?(a.exclusiveMinimum=a.minimum,delete a.minimum,i=!0):"boolean"==typeof a.exclusiveMinimum&&(delete a.exclusiveMinimum,i=!0),"number"==typeof a.maximum&&!1===a.maximumCanEqual?(a.exclusiveMaximum=a.maximum,delete a.maximum,i=!0,n||(n=2)):"boolean"==typeof a.maximumCanEqual&&(delete a.maximumCanEqual,i=!0,n||(n=2)),"number"==typeof a.maximum&&!0===a.exclusiveMaximum?(a.exclusiveMaximum=a.maximum,delete a.maximum,i=!0):"boolean"==typeof a.exclusiveMaximum&&(delete a.exclusiveMaximum,i=!0),"object"==typeof a.properties){var l=R({},a.properties),u=Array.isArray(a.required)?new Set(a.required):new Set;if((1===n||2===n||Object.keys(l).some(function(t){return!0===l[t].optional}))&&(Object.keys(l).filter(function(t){return!0!==l[t].optional}).forEach(function(t){return u.add(t)}),i=!0,n||(n=2)),Object.keys(l).some(function(t){return!0===l[t].required})&&(Object.keys(l).filter(function(t){return!0===l[t].required}).forEach(function(t){return u.add(t)}),i=!0),u.size&&(a.required=Array.from(u)),Object.keys(l).some(function(t){return l[t].requires})){var p="object"==typeof a.dependencies?R({},a.dependencies):{};Object.keys(l).filter(function(t){return l[t].requires}).forEach(function(t){return p[t]="string"==typeof l[t].requires?[l[t].requires]:l[t].requires}),a.dependencies=p,i=!0,n||(n=2)}a.properties=l}if("boolean"==typeof a.optional&&(delete a.optional,i=!0,n||(n=2)),a.requires&&delete a.requires,"boolean"==typeof a.required&&delete a.required,"string"!=typeof a.id||a.$id||("#"===a.id.slice(-1)&&(a.id=a.id.slice(0,-1)),a.$id=a.id+"-CONVERTED-TO-DRAFT-06#",delete a.id,i=!0),!a.type||("function"==typeof a.type.every?a.type.every(function(t){return s.includes(t)}):s.includes(a.type))||(i=!0),"string"==typeof a.$schema&&/http\:\/\/json\-schema\.org\/draft\-0[1-4]\/schema\#/.test(a.$schema))a.$schema="http://json-schema.org/draft-06/schema#",i=!0;else if(i&&"string"==typeof a.$schema){var d="Converted to draft 6 from "+a.$schema;"string"==typeof a.description&&a.description.length?a.description+="\n"+d:a.description=d,delete a.$schema}if(a.type&&("function"==typeof a.type.every?!a.type.every(function(t){return s.includes(t)}):!s.includes(a.type)))if(1===a.type.length&&(a.type=a.type[0]),"string"==typeof a.type)"any"===a.type?a.type=s:delete a.type;else if("object"==typeof a.type){if("function"==typeof a.type.every)if(a.type.every(function(t){return"string"==typeof t}))a.type=a.type.some(function(t){return"any"===t})?a.type=s:a.type.filter(function(t){return s.includes(t)});else if(1<a.type.length){var c=["additionalItems","items","maxItems","minItems","uniqueItems","contains"],m=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"],f=["maxProperties","minProperties","required","additionalProperties","properties","patternProperties","dependencies","propertyNames"],h=["maxLength","minLength","pattern","format"],y={array:H(m,f,h),integer:H(c,f,h),number:H(c,f,h),object:H(c,m,h),string:H(c,m,f),all:H(c,m,f,h)},g=[],b=function(t){var e="string"==typeof t?{type:t}:R({},t);Object.keys(a).filter(function(t){return!e.hasOwnProperty(t)&&!H(y[e.type]||y.all,["type","default"]).includes(t)}).forEach(function(t){return e[t]=a[t]}),g.push(e)};try{for(var v=q(a.type),x=v.next();!x.done;x=v.next()){b(x.value)}}catch(C){o={error:C}}finally{try{x&&!x.done&&(r=v["return"])&&r.call(v)}finally{if(o)throw o.error}}a=a.hasOwnProperty("default")?{anyOf:g,"default":a["default"]}:{anyOf:g}}else{var I=a.type;delete a.type,Object.assign(a,I)}}else delete a.type;return Object.keys(a).filter(function(t){return"object"==typeof a[t]}).forEach(function(e){if(["definitions","dependencies","properties","patternProperties"].includes(e)&&"function"!=typeof a[e].map){var o={};Object.keys(a[e]).forEach(function(t){return o[t]=jt(a[e][t],{changed:i,draft:n})}),a[e]=o}else["items","additionalItems","additionalProperties","allOf","anyOf","oneOf","not"].includes(e)?a[e]=jt(a[e],{changed:i,draft:n}):a[e]=E.cloneDeep(a[e])}),a}function kt(e,o,n,i,r,a){void 0===o&&(o=null),void 0===n&&(n=!0),void 0===i&&(i=""),void 0===r&&(r=""),void 0===a&&(a="");var s=st.get(e.schema,i);n?!V(o)&&(!0===e.formOptions.setSchemaDefaults||"auto"===e.formOptions.setSchemaDefaults&&$(e.formValues))&&(o=st.get(e.schema,i+"/default")):o=null;var t=st.get(s,"/type"),l=(et(s,"properties")||et(s,"additionalProperties"))&&"object"===t?"FormGroup":(et(s,"items")||et(s,"additionalItems"))&&"array"===t?"FormArray":!t&&et(s,"$ref")?"$ref":"FormControl",u=ft(r,e.dataRecursiveRefMap,e.arrayMap);e.dataMap.has(u)||e.dataMap.set(u,new Map);var p,d=e.dataMap.get(u);d.has("schemaType")||(d.set("schemaPointer",i),d.set("schemaType",s.type),s.format&&(d.set("schemaFormat",s.format),s.type||d.set("schemaType","string")),l&&(d.set("templatePointer",a),d.set("templateType",l)));var c=xt(s);switch(l){case"FormGroup":if(p={},et(s,"ui:order")||et(s,"properties")){var m=s["ui:order"]||Object.keys(s.properties);if(m.includes("*")&&!et(s.properties,"*"))for(var f=Object.keys(s.properties).filter(function(t){return!m.includes(t)}),h=m.length-1;0<=h;h--)"*"===m[h]&&m.splice.apply(m,H([h,1],f));m.filter(function(t){return et(s.properties,t)||et(s,"additionalProperties")}).forEach(function(t){return p[t]=kt(e,st.get(o,[t]),n,i+(et(s.properties,t)?"/properties/"+t:"/additionalProperties"),r+"/"+t,a+"/controls/"+t)}),e.formOptions.fieldsRequired=Nt(s,p)}return{controlType:l,controls:p,validators:c};case"FormArray":p=[];var y=Math.max(s.minItems||0,d.get("minItems")||0),g=Math.min(s.maxItems||1e3,d.get("maxItems")||1e3),b=null;if(B(s.items)){var v=d.get("tupleItems")||(B(s.items)?Math.min(s.items.length,g):0);for(h=0;h<v;h++)if(h<y)p.push(kt(e,B(o)?o[h]:o,n,i+"/items/"+h,r+"/"+h,a+"/controls/"+h));else{var x=ft(i+"/items/"+h,e.schemaRecursiveRefMap),I=(C=ft(u+"/"+h,e.dataRecursiveRefMap,e.arrayMap))!==u+"/"+h;et(e.templateRefLibrary,C)||(e.templateRefLibrary[C]=null,e.templateRefLibrary[C]=kt(e,null,n,x,C,a+"/controls/"+h)),p.push(B(o)?kt(e,o[h],n,i+"/items/"+h,r+"/"+h,a+"/controls/"+h):I?null:E.cloneDeep(e.templateRefLibrary[C]))}s.items.length<g&&W(s.additionalItems)&&(b=i+"/additionalItems")}else b=i+"/items";if(b){var C;x=ft(b,e.schemaRecursiveRefMap),I=(C=ft(u+"/-",e.dataRecursiveRefMap,e.arrayMap))!==u+"/-";et(e.templateRefLibrary,C)||(e.templateRefLibrary[C]=null,e.templateRefLibrary[C]=kt(e,null,n,x,C,a+"/controls/-"));var w=d;if(!I||et(c,"required")){var F=Math.min(Math.max(I?0:w.get("tupleItems")+w.get("listItems")||0,B(o)?o.length:0),g);for(h=p.length;h<F;h++)p.push(B(o)?kt(e,o[h],n,x,r+"/-",a+"/controls/-"):I?null:E.cloneDeep(e.templateRefLibrary[C]))}}return{controlType:l,controls:p,validators:c};case"$ref":var j=st.compile(s.$ref),k=ft(st.toDataPointer(j,s),e.dataRecursiveRefMap,e.arrayMap);if(k&&!et(e.templateRefLibrary,k)){e.templateRefLibrary[k]=null;var O=kt(e,n,n,j);O?e.templateRefLibrary[k]=O:delete e.templateRefLibrary[k]}return null;case"FormControl":return{controlType:l,value:{value:n&&A(o)?o:null,disabled:d.get("disabled")||!1},validators:c};default:return null}}function Ot(t){var o=[],e=null;if(et(t,"validators")&&(Q(t.validators,function(t,e){"function"==typeof ut[e]&&o.push(ut[e].apply(null,t))}),o.length&&U(t.controlType,["FormGroup","FormArray"])&&(e=1<o.length?ut.compose(o):o[0])),et(t,"controlType"))switch(t.controlType){case"FormGroup":var n={};return Q(t.controls,function(t,e){var o=Ot(t);o&&(n[e]=o)}),new s.FormGroup(n,e);case"FormArray":return new s.FormArray(E.filter(E.map(t.controls,function(t){return Ot(t)})),e);case"FormControl":return new s.FormControl(t.value,o)}return null}function Nt(t,e){var o=!1;if(et(t,"required")&&!$(t.required)){o=!0;var n=B(t.required)?t.required:[t.required];n=Q(n,function(t){return st.set(e,"/"+t+"/validators/required",[])})}return o}function Mt(t,r,a,s,l,u){if(void 0===l&&(l=!1),void 0===u&&(u=!1),null===t||"object"!=typeof t)return t;var p=B(t)?[]:{};return st.forEachDeep(t,function(t,o){if(l&&B(t))st.set(p,o,[]);else if(l&&W(t)&&!N(t))st.set(p,o,{});else{var n=st.has(r,[o,"schemaType"])?o:ft(o,a,s);if(st.has(r,[n,"schemaType"])){var e=r.get(n).get("schemaType");if("null"===e)st.set(p,o,null);else if((j(t)||l)&&U(e,["string","integer","number","boolean"])){var i=u||null===t&&l?T(t,e):S(t,e);(V(i)||l)&&st.set(p,o,i)}else"object"!==e||l||(r.get(n).get("required")||[]).forEach(function(t){var e=r.get(n+"/"+t).get("schemaType");"array"===e?st.set(p,o+"/"+t,[]):"object"===e&&st.set(p,o+"/"+t,{})});"date-time"===r.get(n).get("schemaFormat")&&(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?$/i.test(t)?st.set(p,o,t+"Z"):/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d$/i.test(t)?st.set(p,o,t+":00Z"):u&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)&&st.set(p,o,t+":00:00:00Z"))}else("object"!=typeof t||N(t)||null===t&&l)&&(console.error("formatFormData error: Schema type not found for form value at "+n),console.error("dataMap",r),console.error("recursiveRefMap",a),console.error("genericPointer",n))}}),p}function Dt(t,e,o){if(void 0===o&&(o=!1),!W(t)||!st.isJsonPointer(e)){if(!st.isJsonPointer(e)){if("string"==typeof e)if(n=t.get(e))return n;console.error("getControl error: Invalid JSON Pointer: "+e)}return W(t)||console.error("getControl error: Invalid formGroup: "+t),null}var n,i=st.parse(e);if((o&&(i=i.slice(0,-1)),"function"==typeof t.get&&i.every(function(t){return-1===t.indexOf(".")}))&&(n=t.get(i.join("."))))return n;var r,a,s=t;try{for(var l=q(i),u=l.next();!u.done;u=l.next()){var p=u.value;if(et(s,"controls")&&(s=s.controls),B(s)&&"-"===p)s=s[s.length-1];else{if(!et(s,p))return console.error('getControl error: Unable to find "'+p+'" item in FormGroup.'),console.error(e),void console.error(t);s=s[p]}}}catch(d){r={error:d}}finally{try{u&&!u.done&&(a=l["return"])&&a.call(l)}finally{if(r)throw r.error}}return s}function Lt(j,k){var O=!st.get(j,"/formOptions/addSubmit"),t=Vt(j.layout,function(t,e,o){var n={_id:E.uniqueId(),options:{}};if(W(t))Object.assign(n,t),Object.keys(n).filter(function(t){return!U(t,["_id","$ref","arrayItem","arrayItemType","dataPointer","dataType","items","key","name","options","recursiveReference","type","widget"])}).forEach(function(t){n.options[t]=n[t],delete n[t]}),!et(n,"type")&&z(n.widget)&&(n.type=n.widget,delete n.widget),et(n.options,"title")||et(n.options,"legend")&&(n.options.title=n.options.legend,delete n.options.legend),et(n.options,"validationMessages")||(et(n.options,"errorMessages")?(n.options.validationMessages=n.options.errorMessages,delete n.options.errorMessages):et(n.options,"validationMessage")&&("string"==typeof n.options.validationMessage?n.options.validationMessages=n.options.validationMessage:(n.options.validationMessages={},Object.keys(n.options.validationMessage).forEach(function(t){var e=t+"",o="0"===e?"type":"1"===e?"enum":"100"===e?"multipleOf":"101"===e?"minimum":"102"===e?"exclusiveMinimum":"103"===e?"maximum":"104"===e?"exclusiveMaximum":"200"===e?"minLength":"201"===e?"maxLength":"202"===e?"pattern":"300"===e?"minProperties":"301"===e?"maxProperties":"302"===e?"required":"304"===e?"dependencies":"400"===e?"minItems":"401"===e?"maxItems":"402"===e?"uniqueItems":"500"===e?"format":e+"";n.options.validationMessages[o]=n.options.validationMessage[t]})),delete n.options.validationMessage));else if(st.isJsonPointer(t))n.dataPointer=t;else{if(!z(t))return console.error("buildLayout error: Form layout element not recognized:"),console.error(t),null;n.key=t}var i=null;if(!et(n,"dataPointer"))if(et(n,"key"))n.dataPointer="*"===n.key?n.key:st.compile(st.parseObjectPath(n.key),"-"),delete n.key;else if(et(n,"type")&&"array"===n.type.slice(-5)){var l=function(t){if(null!==t&&"object"==typeof t){if(et(t,"dataPointer"))return t.dataPointer;if(B(t.items))try{for(var e=q(t.items),o=e.next();!o.done;o=e.next()){var n=o.value;if(et(n,"dataPointer")&&-1!==n.dataPointer.indexOf("/-"))return n.dataPointer;if(et(n,"items")){var i=l(n);if(i)return i}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(a=e["return"])&&a.call(e)}finally{if(r)throw r.error}}var r,a}},r=l(n);r&&(n.dataPointer=r.slice(0,r.lastIndexOf("/-")))}if(et(n,"dataPointer")){if("*"===n.dataPointer)return Pt(j,k,j.formValues);var a=st.get(j.formValues,n.dataPointer.replace(/\/-/g,"/1"));n.dataPointer=st.toGenericPointer(n.dataPointer,j.arrayMap);var s=st.toKey(n.dataPointer);!n.name&&z(s)&&"-"!==s&&(n.name=s);var u=ft(n.dataPointer,j.dataRecursiveRefMap,j.arrayMap),p=!u.length||u!==n.dataPointer,d=void 0;j.dataMap.has(u)||j.dataMap.set(u,new Map);var c=j.dataMap.get(u);if(c.has("schemaPointer")?d=c.get("schemaPointer"):(d=st.toSchemaPointer(u,j.schema),c.set("schemaPointer",d)),c.set("disabled",!!n.options.disabled),i=st.get(j.schema,d)){if(et(n,"type"))if(k.hasWidget(n.type))n.type=yt(n.type,i,n);else{var m=n.type;n.type=ht(i,n),console.error('error: widget type "'+m+'" not found in library. Replacing with "'+n.type+'".')}else n.type=ht(i,n);"object"===i.type&&B(i.required)&&c.set("required",i.required),n.dataType=i.type||(et(i,"$ref")?"$ref":null),bt(n,i,j),"checkboxes"===n.type&&et(i,"items")?bt(n,i.items,j):"array"===n.dataType&&(n.options.maxItems=Math.min(i.maxItems||1e3,n.options.maxItems||1e3),n.options.minItems=Math.max(i.minItems||0,n.options.minItems||0),n.options.listItems=Math.max(n.options.listItems||0,B(a)?a.length:0),n.options.tupleItems=B(i.items)?i.items.length:0,n.options.maxItems<n.options.tupleItems?(n.options.tupleItems=n.options.maxItems,n.options.listItems=0):n.options.maxItems<n.options.tupleItems+n.options.listItems?n.options.listItems=n.options.maxItems-n.options.tupleItems:n.options.minItems>n.options.tupleItems+n.options.listItems&&(n.options.listItems=n.options.minItems-n.options.tupleItems),c.has("maxItems")||(c.set("maxItems",n.options.maxItems),c.set("minItems",n.options.minItems),c.set("tupleItems",n.options.tupleItems),c.set("listItems",n.options.listItems)),j.arrayMap.has(u)||j.arrayMap.set(u,n.options.tupleItems)),gt(j.schema,d)&&(n.options.required=!0,j.fieldsRequired=!0)}else bt(n,{},j);if(n.options.title||/^\d+$/.test(n.name)||(n.options.title=rt(n.name)),et(n.options,"copyValueTo")&&("string"==typeof n.options.copyValueTo&&(n.options.copyValueTo=[n.options.copyValueTo]),B(n.options.copyValueTo)&&(n.options.copyValueTo=n.options.copyValueTo.map(function(t){return st.compile(st.parseObjectPath(t),"-")}))),n.widget=k.getWidget(n.type),c.set("inputType",n.type),c.set("widget",n.widget),"array"===n.dataType&&(et(n,"items")||et(n,"additionalItems"))){var f=ft(n.dataPointer+"/-",j.dataRecursiveRefMap,j.arrayMap);if(j.dataMap.has(f)||j.dataMap.set(f,new Map),j.dataMap.get(f).set("inputType","section"),1<n.items.length){for(var h=[],y=n.items.length-1;0<=y;y--){var g=n.items[y];if(et(g,"dataPointer")&&g.dataPointer.slice(0,f.length)===f){var b=n.items.splice(y,1)[0];b.dataPointer=n.dataPointer+"/-"+b.dataPointer.slice(f.length),h.unshift(b)}else g.arrayItem=!0,g.arrayItemType="list",g.removable=!1!==n.options.removable}h.length&&n.items.push({_id:E.uniqueId(),arrayItem:!0,arrayItemType:n.options.tupleItems>n.items.length?"tuple":"list",items:h,options:{removable:!1!==n.options.removable},dataPointer:n.dataPointer+"/-",type:"section",widget:k.getWidget("section")})}else n.items[0].arrayItem=!0,n.items[0].dataPointer||(n.items[0].dataPointer=st.toGenericPointer(f,j.arrayMap)),st.has(n,"/items/0/options/removable")||(n.items[0].options.removable=!0),!1===n.options.orderable&&(n.items[0].options.orderable=!1),n.items[0].arrayItemType=n.options.tupleItems?"tuple":"list";if(B(n.items)){var v=n.items.filter(function(t){return"$ref"!==t.type}).length-n.options.tupleItems;v>n.options.listItems&&(n.options.listItems=v,c.set("listItems",v))}if(et(j.layoutRefLibrary,f)||(j.layoutRefLibrary[f]=E.cloneDeep(n.items[n.items.length-1]),p&&(j.layoutRefLibrary[f].recursiveReference=!0),Q(j.layoutRefLibrary[f],function(t,e){et(t,"_id")&&(t._id=null),p&&et(t,"dataPointer")&&(t.dataPointer=t.dataPointer.slice(f.length))},"top-down")),!n.recursiveReference||n.options.required){var x=Math.min(Math.max(n.options.tupleItems+n.options.listItems,B(a)?a.length:0),n.options.maxItems);for(y=n.items.length;y<x;y++)n.items.push(At({$ref:f,dataPointer:n.dataPointer,recursiveReference:n.recursiveReference},j,k))}if(!1!==n.options.addable&&n.options.minItems<n.options.maxItems&&"$ref"!==(n.items[n.items.length-1]||{}).type){var I="Add another to";if(n.options.title)/^add\b/i.test(n.options.title)?I=n.options.title:I+=" "+n.options.title;else if(n.name&&!/^\d+$/.test(n.name))/^add\b/i.test(n.name)?I+=" "+rt(n.name):I=rt(n.name);else{var C=mt(j.schema,n.dataPointer,"parentSchema");if(et(C,"title"))I+=" to "+C.title;else{var w=st.parse(n.dataPointer);I+=" to "+rt(w[w.length-2])}}n.items.push({_id:E.uniqueId(),arrayItem:!0,arrayItemType:"list",dataPointer:n.dataPointer+"/-",options:{listItems:n.options.listItems,maxItems:n.options.maxItems,minItems:n.options.minItems,removable:!1,title:I,tupleItems:n.options.tupleItems},recursiveReference:p,type:"$ref",widget:k.getWidget("$ref"),$ref:f}),z(st.get(n,"/style/add"))&&(n.items[n.items.length-1].options.fieldStyle=n.style.add,delete n.style.add,$(n.style)&&delete n.style)}}else n.arrayItem=!1}else if(et(n,"type")||et(n,"items")){var F=st.get(j.layout,o,0,-2).type;et(n,"type")||(n.type=U(F,["tabs","tabarray"])?"tab":"array"),n.arrayItem="array"===F,n.widget=k.getWidget(n.type),bt(n,{},j)}return"submit"===n.type&&(O=!0),n});if(j.hasRootReference){var e=E.cloneDeep(t);"submit"===e[e.length-1].type&&e.pop(),j.layoutRefLibrary[""]={_id:null,dataPointer:"",dataType:"object",items:e,name:"",options:E.cloneDeep(j.formOptions.defautWidgetOptions),recursiveReference:!0,required:!1,type:"section",widget:k.getWidget("section")}}return O||t.push({_id:E.uniqueId(),options:{title:"Submit"},type:"submit",widget:k.getWidget("submit")}),t}function Pt(n,i,r,a,s,t,e,o,l,u){void 0===r&&(r=null),void 0===a&&(a=""),void 0===s&&(s=""),void 0===t&&(t=!1),void 0===e&&(e=null),void 0===o&&(o=null),void 0===l&&(l=!1),void 0===u&&(u="");var p=st.get(n.schema,a);if(!et(p,"type")&&!et(p,"$ref")&&!et(p,"x-schema-form"))return null;var d=ht(p);!V(r)&&(!0===n.formOptions.setSchemaDefaults||"auto"===n.formOptions.setSchemaDefaults&&$(n.formValues))&&(r=st.get(n.schema,a+"/default"));var c={_id:l?null:E.uniqueId(),arrayItem:t,dataPointer:st.toGenericPointer(s,n.arrayMap),dataType:p.type||(et(p,"$ref")?"$ref":null),options:{},required:gt(n.schema,a),type:d,widget:i.getWidget(d)},m=st.toKey(c.dataPointer);"-"!==m&&(c.name=m),c.arrayItem&&(c.arrayItemType=e,c.options.removable=!1!==o);var f=ft(u+s,n.dataRecursiveRefMap,n.arrayMap);f.length;n.dataMap.has(f)||n.dataMap.set(f,new Map);var h=n.dataMap.get(f);if(h.has("inputType")||(h.set("schemaPointer",a),h.set("inputType",c.type),h.set("widget",c.widget),h.set("disabled",!!c.options.disabled)),bt(c,p,n),c.options.title||!c.name||/^\d+$/.test(c.name)||(c.options.title=rt(c.name)),"object"===c.dataType){if(B(p.required)&&!h.has("required")&&h.set("required",p.required),W(p.properties)){var y=[],g=p["ui:order"]||Object.keys(p.properties);if(g.includes("*")&&!et(p.properties,"*"))for(var b=Object.keys(p.properties).filter(function(t){return!g.includes(t)}),v=g.length-1;0<=v;v--)"*"===g[v]&&g.splice.apply(g,H([v,1],b));g.filter(function(t){return et(p.properties,t)||et(p,"additionalProperties")}).forEach(function(t){var e=et(p.properties,t)?"/properties/"+t:"/additionalProperties",o=Pt(n,i,W(r)?r[t]:null,a+e,s+"/"+t,!1,null,null,l,u);o&&(gt(p,"/"+t)&&(o.options.required=!0,n.fieldsRequired=!0),y.push(o))}),""!==s||l?c.items=y:c=y}}else if("array"===c.dataType){c.items=[],c.options.maxItems=Math.min(p.maxItems||1e3,c.options.maxItems||1e3),c.options.minItems=Math.max(p.minItems||0,c.options.minItems||0),!c.options.minItems&&gt(n.schema,a)&&(c.options.minItems=1),et(c.options,"listItems")||(c.options.listItems=1),c.options.tupleItems=B(p.items)?p.items.length:0,c.options.maxItems<=c.options.tupleItems?(c.options.tupleItems=c.options.maxItems,c.options.listItems=0):c.options.maxItems<c.options.tupleItems+c.options.listItems?c.options.listItems=c.options.maxItems-c.options.tupleItems:c.options.minItems>c.options.tupleItems+c.options.listItems&&(c.options.listItems=c.options.minItems-c.options.tupleItems),h.has("maxItems")||(h.set("maxItems",c.options.maxItems),h.set("minItems",c.options.minItems),h.set("tupleItems",c.options.tupleItems),h.set("listItems",c.options.listItems)),n.arrayMap.has(f)||n.arrayMap.set(f,c.options.tupleItems),o=!1!==c.options.removable;var x=null;if(B(p.items)){c.items=[];for(v=0;v<c.options.tupleItems;v++){var I=void 0,C=!(w=ft(f+"/"+v,n.dataRecursiveRefMap,n.arrayMap)).length||w!==f+"/"+v;o&&v>=c.options.minItems?(et(n.layoutRefLibrary,w)||(n.layoutRefLibrary[w]=null,n.layoutRefLibrary[w]=Pt(n,i,B(r)?r[v]:null,a+"/items/"+v,C?"":s+"/"+v,!0,"tuple",!0,!0,C?s+"/"+v:""),C&&(n.layoutRefLibrary[w].recursiveReference=!0)),I=At({$ref:w,dataPointer:s+"/"+v,recursiveReference:C},n,i,B(r)?r[v]:null)):I=Pt(n,i,B(r)?r[v]:null,a+"/items/"+v,s+"/"+v,!0,"tuple",!1,l,u),I&&c.items.push(I)}W(p.additionalItems)&&(x=a+"/additionalItems")}else W(p.items)&&(x=a+"/items");if(x){C=!(w=ft(f+"/-",n.dataRecursiveRefMap,n.arrayMap)).length||w!==f+"/-";var w,F=ft(x,n.schemaRecursiveRefMap,n.arrayMap);if(w.length&&!et(n.layoutRefLibrary,w)&&(n.layoutRefLibrary[w]=null,n.layoutRefLibrary[w]=Pt(n,i,null,F,C?"":s+"/-",!0,"list",o,!0,C?s+"/-":""),C&&(n.layoutRefLibrary[w].recursiveReference=!0)),!C||c.options.required){var j=Math.min(Math.max(C?0:c.options.tupleItems+c.options.listItems,B(r)?r.length:0),c.options.maxItems);if(c.items.length<j)for(v=c.items.length;v<j;v++)c.items.push(At({$ref:w,dataPointer:s+"/-",recursiveReference:C},n,i,B(r)?r[v]:null))}if(!1!==c.options.addable&&c.options.minItems<c.options.maxItems&&"$ref"!==(c.items[c.items.length-1]||{}).type){var k=(M=((n.layoutRefLibrary[w]||{}).options||{}).title)?"Add another to":"Add to ";M||(M=p.title||rt(st.toKey(s))),/^add\b/i.test(M)||(M=k+M),c.items.push({_id:E.uniqueId(),arrayItem:!0,arrayItemType:"list",dataPointer:c.dataPointer+"/-",options:{listItems:c.options.listItems,maxItems:c.options.maxItems,minItems:c.options.minItems,removable:!1,title:M,tupleItems:c.options.tupleItems},recursiveReference:C,type:"$ref",widget:i.getWidget("$ref"),$ref:w})}}}else if("$ref"===c.dataType){var O=st.compile(p.$ref),N=st.toDataPointer(O,n.schema),M="";if(c.options.add)M=c.options.add;else if(c.name&&!/^\d+$/.test(c.name))M=(/^add\b/i.test(c.name)?"":"Add another to ")+rt(c.name);else{var D=st.get(n.schema,a,0,-1);if(et(D,"title"))M="Add another to "+D.title;else{var L=st.parse(c.dataPointer);M="Add another to "+rt(L[L.length-2])}}if(Object.assign(c,{recursiveReference:!0,widget:i.getWidget("$ref"),$ref:N}),Object.assign(c.options,{removable:!1,title:M}),_(st.get(n.schema,a,0,-1).maxItems)&&(c.options.maxItems=st.get(n.schema,a,0,-1).maxItems),N.length)if(et(n.layoutRefLibrary,N))n.layoutRefLibrary[N].recursiveReference||(n.layoutRefLibrary[N].recursiveReference=!0);else{n.layoutRefLibrary[N]=null;var P=Pt(n,i,null,O,"",c.arrayItem,c.arrayItemType,!0,!0,s);P?(P.recursiveReference=!0,n.layoutRefLibrary[N]=P):delete n.layoutRefLibrary[N]}}return c}function Vt(t,a,s,l){void 0===s&&(s=""),void 0===l&&(l=t);var u=0,p=[];return Q(t,function(t,e){var o=+e+u,n=s+"/"+o,i=X(t),r=[];W(t)&&(et(t,"tabs")&&(t.items=t.tabs,delete t.tabs),et(t,"items")&&(r=B(t.items)?t.items:[t.items])),r.length&&(i.items=Vt(r,a,n+"/items",l)),V(i=a(i,o,n,l))?(B(i)&&(u+=i.length-1),p=p.concat(i)):u--}),p}function At(o,t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),o.recursiveReference&&e)return(i=E.cloneDeep(o)).options||(i.options={}),Object.assign(i,{recursiveReference:!0,widget:e.getWidget("$ref")}),Object.assign(i.options,{removable:!1,title:"Add another to "+i.$ref}),i;var i=t.layoutRefLibrary[o.$ref];return V(n)?i=Pt(t,e,n,st.toSchemaPointer(o.$ref,t.schema),o.$ref,i.arrayItem,i.arrayItemType,i.options.removable,!1):(i=E.cloneDeep(i),st.forEachDeep(i,function(t,e){et(t,"_id")&&(t._id=E.uniqueId()),o.recursiveReference&&et(t,"dataPointer")&&(t.dataPointer=o.dataPointer+t.dataPointer)})),i}function St(t,e,o,n){void 0===o&&(o=!0),void 0===n&&(n=!0);var i,r,a,s,l,u,p,d,c=[],m=!1;if(t)if(B(t))if(e)try{for(var f=q(Object.keys(t)),h=f.next();!h.done;h=f.next()){if(W(t[O=h.value])){var y=t[O].value;if(e.includes(y)){var g=t[O].name;c.push({name:g,value:y}),y!==undefined&&null!==y||(m=!0)}}else if(z(t[O])&&O<e.length){var b=t[O];y=e[O];c.push({name:b,value:y}),y!==undefined&&null!==y||(m=!0)}}}catch(M){i={error:M}}finally{try{h&&!h.done&&(r=f["return"])&&r.call(f)}finally{if(i)throw i.error}}else c=t,o||(m=!!c.filter(function(t){return t.value===undefined||null===t.value}).length);else if(e)try{for(var v=q(Object.keys(e)),x=v.next();!x.done;x=v.next()){if(et(t,y=e[O=x.value])){var I=t[y];c.push({name:I,value:y}),y!==undefined&&null!==y||(m=!0)}}}catch(D){a={error:D}}finally{try{x&&!x.done&&(s=v["return"])&&s.call(v)}finally{if(a)throw a.error}}else try{for(var C=q(Object.keys(t)),w=C.next();!w.done;w=C.next()){var F=t[y=w.value];c.push({name:F,value:y}),y!==undefined&&null!==y||(m=!0)}}catch(L){l={error:L}}finally{try{w&&!w.done&&(u=C["return"])&&u.call(C)}finally{if(l)throw l.error}}else if(e)try{for(var j=q(Object.keys(e)),k=j.next();!k.done;k=j.next()){var O,N=e[O=k.value];y=e[O];c.push({name:N,value:y}),y!==undefined&&null!==y||(m=!0)}}catch(P){p={error:P}}finally{try{k&&!k.done&&(d=j["return"])&&d.call(j)}finally{if(p)throw p.error}}else c=[{name:"True",value:!0},{name:"False",value:!1}];return c.some(function(t){return et(t,"group")})&&(m=!1,c=n?c.reduce(function(t,e){return et(e,"group")?(B(e.items)&&(t=H(t,e.items.map(function(t){return R({},t,{name:e.group+": "+t.name})})),e.items.some(function(t){return t.value===undefined||null===t.value})&&(m=!0)),et(e,"name")&&et(e,"value")&&(e.name=e.group+": "+e.name,delete e.group,t.push(e),e.value!==undefined&&null!==e.value||(m=!0))):(t.push(e),e.value!==undefined&&null!==e.value||(m=!0)),t},[]):c.reduce(function(t,e){return et(e,"group")?(e.group!==(t[t.length-1]||{}).group&&t.push({group:e.group,items:e.items||[]}),et(e,"name")&&et(e,"value")&&(t[t.length-1].items.push({name:e.name,value:e.value}),e.value!==undefined&&null!==e.value||(m=!0))):(t.push(e),e.value!==undefined&&null!==e.value||(m=!0)),t},[])),o||m||c.unshift({name:"<em>None</em>",value:null}),c}function Tt(t,e){void 0===e&&(e={});var o=e.dateFormat||"YYYY-MM-DD";if("string"==typeof t&&(t=Et(t)),"[object Date]"!==Object.prototype.toString.call(t))return null;return o.replace(/YYYY/gi,t.getFullYear()+"").replace(/YY/gi,(t.getFullYear()+"").slice(-2)).replace(/MMMM/gi,["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]).replace(/MMM/gi,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]).replace(/MM/gi,("0"+(t.getMonth()+1)).slice(-2)).replace(/M/gi,t.getMonth()+1+"").replace(/DDDD/gi,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]).replace(/DDD/gi,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]).replace(/DD/gi,("0"+t.getDate()).slice(-2)).replace(/D/gi,t.getDate()+"").replace(/S/gi,function(t){"number"==typeof t&&(t+="");var e=t.slice(-1);return"1"!==t.slice(-2,1)&&{1:"st",2:"nd",3:"rd"}[e]||"th"}(t.getDate()))}function Et(t){var e=Rt(t);if(!e)return null;var o=[];/^\d+[^\d]\d+[^\d]\d+$/.test(e)?o=e.split(/[^\d]/).map(function(t){return+t}):/^\d{8}$/.test(e)&&(o=[+e.slice(0,4),+e.slice(4,6),+e.slice(6)]);var n=+((new Date).getFullYear()+"").slice(-2);if(1e3<o[0]&&o[0]<2100&&o[1]<=12&&o[2]<=31)return new Date(o[0],o[1]-1,o[2]);if(o[0]<=12&&o[1]<=31&&1e3<o[2]&&o[2]<2100)return new Date(o[2],o[0]-1,o[1]);if(o[0]<=12&&o[1]<=31&&o[2]<100){var i=(o[2]<=n?2e3:1900)+o[2];return new Date(i,o[0]-1,o[1])}if(o[0]<100&&o[1]<=12&&o[2]<=31){i=(o[0]<=n?2e3:1900)+o[0];return new Date(i,o[1]-1,o[2])}return null}function Rt(t){return t?(e=t.match(/(?:19|20)\d\d[-_\\\/\. ](?:0?\d|1[012])[-_\\\/\. ](?:[012]?\d|3[01])(?!\d)/))?e[0]:(e=t.match(/(?:[012]?\d|3[01])[-_\\\/\. ](?:0?\d|1[012])[-_\\\/\. ](?:19|20)\d\d(?!\d)/))?e[0]:(e=t.match(/^(?:[012]?\d|3[01])[-_\\\/\. ](?:0?\d|1[012])[-_\\\/\. ]\d\d(?!\d)/))?e[0]:(e=t.match(/^\d\d[-_\\\/\. ](?:[012]?\d|3[01])[-_\\\/\. ](?:0?\d|1[012])(?!\d)/))?e[0]:(e=t.match(/^(?:19|20)\d\d(?:0\d|1[012])(?:[012]\d|3[01])/))?e[0]:void 0:null;var e}var qt={required:"This field is required.",minLength:"Must be {{minimumLength}} characters or longer (current length: {{currentLength}})",maxLength:"Must be {{maximumLength}} characters or shorter (current length: {{currentLength}})",pattern:"Must match pattern: {{requiredPattern}}",format:function(t){switch(t.requiredFormat){case"date":return'Must be a date, like "2000-12-31"';case"time":return'Must be a time, like "16:20" or "03:14:15.9265"';case"date-time":return'Must be a date-time, like "2000-03-14T01:59" or "2000-03-14T01:59:26.535Z"';case"email":return'Must be an email address, like "name@example.com"';case"hostname":return'Must be a hostname, like "example.com"';case"ipv4":return'Must be an IPv4 address, like "127.0.0.1"';case"ipv6":return'Must be an IPv6 address, like "1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0"';case"url":return'Must be a url, like "http://www.example.com/page.html"';case"uuid":return'Must be a uuid, like "12345678-9ABC-DEF0-1234-56789ABCDEF0"';case"color":return'Must be a color, like "#FFFFFF" or "rgb(255, 255, 255)"';case"json-pointer":return'Must be a JSON Pointer, like "/pointer/to/something"';case"relative-json-pointer":return'Must be a relative JSON Pointer, like "2/pointer/to/something"';case"regex":return'Must be a regular expression, like "(1-)?\\d{3}-\\d{3}-\\d{4}"';default:return"Must be a correctly formatted "+t.requiredFormat}},minimum:"Must be {{minimumValue}} or more",exclusiveMinimum:"Must be more than {{exclusiveMinimumValue}}",maximum:"Must be {{maximumValue}} or less",exclusiveMaximum:"Must be less than {{exclusiveMaximumValue}}",multipleOf:function(t){return 1/t.multipleOfValue%10==0?"Must have "+Math.log10(1/t.multipleOfValue)+" or fewer decimal places.":"Must be a multiple of "+t.multipleOfValue+"."},minProperties:"Must have {{minimumProperties}} or more items (current items: {{currentProperties}})",maxProperties:"Must have {{maximumProperties}} or fewer items (current items: {{currentProperties}})",minItems:"Must have {{minimumItems}} or more items (current items: {{currentItems}})",maxItems:"Must have {{maximumItems}} or fewer items (current items: {{currentItems}})",uniqueItems:"All items must be unique"},Ht={required:"Est obligatoire.",minLength:"Doit avoir minimum {{minimumLength}} caractères (actuellement: {{currentLength}})",maxLength:"Doit avoir maximum {{maximumLength}} caractères (actuellement: {{currentLength}})",pattern:"Doit respecter: {{requiredPattern}}",format:function(t){switch(t.requiredFormat){case"date":return'Doit être une date, tel que "2000-12-31"';case"time":return'Doit être une heure, tel que "16:20" ou "03:14:15.9265"';case"date-time":return'Doit être une date et une heure, tel que "2000-03-14T01:59" ou "2000-03-14T01:59:26.535Z"';case"email":return'Doit être une adresse e-mail, tel que "name@example.com"';case"hostname":return'Doit être un nom de domaine, tel que "example.com"';case"ipv4":return'Doit être une adresse IPv4, tel que "127.0.0.1"';case"ipv6":return'Doit être une adresse IPv6, tel que "1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0"';case"url":return'Doit être une URL, tel que "http://www.example.com/page.html"';case"uuid":return'Doit être un UUID, tel que "12345678-9ABC-DEF0-1234-56789ABCDEF0"';case"color":return'Doit être une couleur, tel que "#FFFFFF" or "rgb(255, 255, 255)"';case"json-pointer":return'Doit être un JSON Pointer, tel que "/pointer/to/something"';case"relative-json-pointer":return'Doit être un relative JSON Pointer, tel que "2/pointer/to/something"';case"regex":return'Doit être une expression régulière, tel que "(1-)?\\d{3}-\\d{3}-\\d{4}"';default:return"Doit être avoir le format correct: "+t.requiredFormat}},minimum:"Doit être supérieur à {{minimumValue}}",exclusiveMinimum:"Doit avoir minimum {{exclusiveMinimumValue}} charactères",maximum:"Doit être inférieur à {{maximumValue}}",exclusiveMaximum:"Doit avoir maximum {{exclusiveMaximumValue}} charactères",multipleOf:function(t){return 1/t.multipleOfValue%10==0?"Doit comporter "+Math.log10(1/t.multipleOfValue)+" ou moins de decimales.":"Doit être un multiple de "+t.multipleOfValue+"."},minProperties:"Doit comporter au minimum {{minimumProperties}} éléments",maxProperties:"Doit comporter au maximum {{maximumProperties}} éléments",minItems:"Doit comporter au minimum {{minimumItems}} éléments",maxItems:"Doit comporter au maximum {{minimumItems}} éléments",uniqueItems:"Tous les éléments doivent être uniques"},$t=function(){function t(){this.JsonFormCompatibility=!1,this.ReactJsonSchemaFormCompatibility=!1,this.AngularSchemaFormCompatibility=!1,this.tpldata={},this.ajvOptions={allErrors:!0,jsonPointers:!0,unknownFormats:"ignore"},this.ajv=new u(this.ajvOptions),this.validateFormData=null,this.formValues={},this.data={},this.schema={},this.layout=[],this.formGroupTemplate={},this.formGroup=null,this.framework=null,this.validData=null,this.isValid=null,this.ajvErrors=null,this.validationErrors=null,this.dataErrors=new Map,this.formValueSubscription=null,this.dataChanges=new l.Subject,this.isValidChanges=new l.Subject,this.validationErrorChanges=new l.Subject,this.arrayMap=new Map,this.dataMap=new Map,this.dataRecursiveRefMap=new Map,this.schemaRecursiveRefMap=new Map,this.schemaRefLibrary={},this.layoutRefLibrary={"":null},this.templateRefLibrary={},this.hasRootReference=!1,this.language="en-US",this.defaultLayoutOptions={},this.defaultFormOptions={addSubmit:"auto",debug:!1,disableInvalidSubmit:!0,formDisabled:!1,formReadonly:!1,fieldsRequired:!1,framework:"no-framework",loadExternalAssets:!1,pristine:{errors:!0,success:!0},supressPropertyTitles:!1,setSchemaDefaults:"auto",setLayoutDefaults:"auto",validateOnRender:"auto",widgets:{},defautWidgetOptions:{listItems:1,addable:!0,orderable:!1,removable:!0,enableErrorState:!0,enableSuccessState:!0,feedback:!1,feedbackOnRender:!1,notitle:!1,disabled:!1,readonly:!1,returnEmptyFields:!0,validationMessages:{}}},this.setLanguage(this.language)}return t.prototype.setLanguage=function(t){void 0===t&&(t="en-US");var e="fr"===(this.language=t).slice(0,2)?Ht:qt;this.defaultFormOptions.defautWidgetOptions.validationMessages=E.cloneDeep(e)},t.prototype.getData=function(){return this.data},t.prototype.getSchema=function(){return this.schema},t.prototype.getLayout=function(){return this.layout},t.prototype.resetAllValues=function(){this.JsonFormCompatibility=!1,this.ReactJsonSchemaFormCompatibility=!1,this.AngularSchemaFormCompatibility=!1,this.tpldata={},this.validateFormData=null,this.formValues={},this.schema={},this.layout=[],this.formGroupTemplate={},this.formGroup=null,this.framework=null,this.data={},this.validData=null,this.isValid=null,this.validationErrors=null,this.arrayMap=new Map,this.dataMap=new Map,this.dataRecursiveRefMap=new Map,this.schemaRecursiveRefMap=new Map,this.layoutRefLibrary={},this.schemaRefLibrary={},this.templateRefLibrary={},this.formOptions=E.cloneDeep(this.defaultFormOptions)},t.prototype.buildRemoteError=function(t){var u=this;Q(t,function(t,e){if(e in u.formGroup.controls)try{for(var o=q(t),n=o.next();!n.done;n=o.next()){var i=n.value,r={};r[i.code]=i.message,u.formGroup.get(e).setErrors(r,{emitEvent:!0})}}catch(l){a={error:l}}finally{try{n&&!n.done&&(s=o["return"])&&s.call(o)}finally{if(a)throw a.error}}var a,s})},t.prototype.validateData=function(t,e){void 0===e&&(e=!0),this.data=Mt(t,this.dataMap,this.dataRecursiveRefMap,this.arrayMap,this.formOptions.returnEmptyFields),this.isValid=this.validateFormData(this.data),this.validData=this.isValid?this.data:null;var o,n;this.ajvErrors=this.validateFormData.errors,this.validationErrors=(o=this.validateFormData.errors,n={},(o||[]).forEach(function(t){n[t.dataPath]||(n[t.dataPath]=[]),n[t.dataPath].push(t.message)}),n),e&&(this.dataChanges.next(this.data),this.isValidChanges.next(this.isValid),this.validationErrorChanges.next(this.ajvErrors))},t.prototype.buildFormGroupTemplate=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!0),this.formGroupTemplate=kt(this,t,e)},t.prototype.buildFormGroup=function(){var e=this;this.formGroup=Ot(this.formGroupTemplate),this.formGroup&&(this.compileAjvSchema(),this.validateData(this.formGroup.value),this.formValueSubscription&&this.formValueSubscription.unsubscribe(),this.formValueSubscription=this.formGroup.valueChanges.subscribe(function(t){return e.validateData(t)}))},t.prototype.buildLayout=function(t){this.layout=Lt(this,t)},t.prototype.setOptions=function(t){if(W(t)){var e=E.cloneDeep(t);W(e.defaultOptions)&&(Object.assign(this.formOptions.defautWidgetOptions,e.defaultOptions),delete e.defaultOptions),W(e.defautWidgetOptions)&&(Object.assign(this.formOptions.defautWidgetOptions,e.defautWidgetOptions),delete e.defautWidgetOptions),Object.assign(this.formOptions,e);var o=this.formOptions.defautWidgetOptions;["ErrorState","SuccessState"].filter(function(t){return et(o,"disable"+t)}).forEach(function(t){o["enable"+t]=!o["disable"+t],delete o["disable"+t]})}},t.prototype.compileAjvSchema=function(){this.validateFormData||(Array.isArray(this.schema.properties["ui:order"])&&(this.schema["ui:order"]=this.schema.properties["ui:order"],delete this.schema.properties["ui:order"]),this.ajv.removeSchema(this.schema),this.validateFormData=this.ajv.compile(this.schema))},t.prototype.buildSchemaFromData=function(t,e){if(void 0===e&&(e=!1),t)return ct(t,e);this.schema=ct(this.formValues,e)},t.prototype.buildSchemaFromLayout=function(t){t||(this.schema=void this.layout)},t.prototype.setTpldata=function(t){void 0===t&&(t={}),this.tpldata=t},t.prototype.parseText=function(t,o,n,i){var r=this;return void 0===t&&(t=""),void 0===o&&(o={}),void 0===n&&(n={}),void 0===i&&(i=null),t&&/{{.+?}}/.test(t)?t.replace(/{{(.+?)}}/g,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.parseExpression(t[1],o,n,i,r.tpldata)}):t},t.prototype.parseExpression=function(e,o,n,i,r){var a=this;if(void 0===e&&(e=""),void 0===o&&(o={}),void 0===n&&(n={}),void 0===i&&(i=null),void 0===r&&(r=null),"string"!=typeof e)return"";var t="number"==typeof i?i+1+"":i||"";if(("'"===(e=e.trim())[0]||'"'===e[0])&&e[0]===e[e.length-1]&&-1===e.slice(1,e.length-1).indexOf(e[0]))return e.slice(1,e.length-1);if("idx"===e||"$index"===e)return t;if("value"===e&&!et(n,"value"))return o;if(['"',"'"," ","||","&&","+"].every(function(t){return-1===e.indexOf(t)})){var s=st.parseObjectPath(e);return"value"===s[0]&&st.has(o,s.slice(1))?st.get(o,s.slice(1)):"values"===s[0]&&st.has(n,s.slice(1))?st.get(n,s.slice(1)):"tpldata"===s[0]&&st.has(r,s.slice(1))?st.get(r,s.slice(1)):st.has(n,s)?st.get(n,s):""}return-1<e.indexOf("[idx]")&&(e=e.replace(/\[idx\]/g,t)),-1<e.indexOf("[$index]")&&(e=e.replace(/\[$index\]/g,t)),-1<e.indexOf("||")?e.split("||").reduce(function(t,e){return t||a.parseExpression(e,o,n,i,r)},""):-1<e.indexOf("&&")?e.split("&&").reduce(function(t,e){return t&&a.parseExpression(e,o,n,i,r)}," ").trim():-1<e.indexOf("+")?e.split("+").map(function(t){return a.parseExpression(t,o,n,i,r)}).join(""):""},t.prototype.setArrayItemTitle=function(t,e,o){void 0===t&&(t={}),void 0===e&&(e=null),void 0===o&&(o=null);var n=t.layoutNode,i=this.getFormControlValue(t),r="array"===(n.type||"").slice(-5)&&B(i),a=st.getFirst(r&&"$ref"!==e.type?[[e,"/options/legend"],[e,"/options/title"],[n,"/options/title"],[n,"/options/legend"]]:[[e,"/options/title"],[e,"/options/legend"],[n,"/options/title"],[n,"/options/legend"]]);if(!a)return a;var s=B(i)&&o<i.length?i[o]:i;return this.parseText(a,s,i,o)},t.prototype.setItemTitle=function(t){return!t.options.title&&/^(\d+|-)$/.test(t.layoutNode.name)?null:this.parseText(t.options.title||at(t.layoutNode.name),this.getFormControlValue(this),(this.getFormControlGroup(this)||{}).value,t.dataIndex[t.dataIndex.length-1])},t.prototype.evaluateCondition=function(t,e){var o=e&&e[e.length-1],n=!0;if(j((t.options||{}).condition))if("string"==typeof t.options.condition){var i=t.options.condition;j(o)&&(i=i.replace("[arrayIndex]","["+o+"]")),i=st.parseObjectPath(i),(n=!!st.get(this.data,i))||"model"!==i[0]||(n=!!st.get({model:this.data},i))}else if("function"==typeof t.options.condition)n=t.options.condition(this.data);else if("string"==typeof t.options.condition.functionBody)try{n=new Function("model","arrayIndices",t.options.condition.functionBody)(this.data,e)}catch(r){n=!0,console.error("condition functionBody errored out on evaluation: "+t.options.condition.functionBody)}return n},t.prototype.initializeControl=function(e,t){var o=this;if(void 0===t&&(t=!0),!W(e))return!1;if($(e.options)&&(e.options=$((e.layoutNode||{}).options)?E.cloneDeep(this.formOptions):e.layoutNode.options),e.formControl=this.getFormControl(e),e.boundControl=t&&!!e.formControl,e.formControl)e.controlName=this.getFormControlName(e),e.controlValue=e.formControl.value,e.controlDisabled=e.formControl.disabled,e.options.errorMessage="VALID"===e.formControl.status?null:this.formatErrors(e.formControl.errors,e.options.validationMessages),e.options.showErrors=!0===this.formOptions.validateOnRender||"auto"===this.formOptions.validateOnRender&&j(e.controlValue),e.formControl.statusChanges.subscribe(function(t){return e.options.errorMessage="VALID"===t?null:o.formatErrors(e.formControl.errors,e.options.validationMessages)}),e.formControl.valueChanges.subscribe(function(t){E.isEqual(e.controlValue,t)||(e.controlValue=t)});else{e.controlName=e.layoutNode.name,e.controlValue=e.layoutNode.value||null;var n=this.getDataPointer(e);t&&n&&console.error('warning: control "'+n+'" is not bound to the Angular FormGroup.')}return e.boundControl},t.prototype.formatErrors=function(e,t){if(void 0===t&&(t={}),$(e))return null;W(t)||(t={});return Object.keys(e).filter(function(t){return"required"!==t||1===Object.keys(e).length}).map(function(t){}).join("<br>")},t.prototype.updateValue=function(t,e){if(t.controlValue=e,t.boundControl&&(t.formControl.setValue(e),t.formControl.markAsDirty()),t.layoutNode.value=e,B(t.options.copyValueTo))try{for(var o=q(t.options.copyValueTo),n=o.next();!n.done;n=o.next()){var i=n.value,r=Dt(this.formGroup,i);W(r)&&"function"==typeof r.setValue&&(r.setValue(e),r.markAsDirty())}}catch(l){a={error:l}}finally{try{n&&!n.done&&(s=o["return"])&&s.call(o)}finally{if(a)throw a.error}}var a,s},t.prototype.updateArrayCheckboxList=function(t,e){for(var o=this.getFormControl(t);o.value.length;)o.removeAt(0);var n,i,r=ft(t.layoutNode.dataPointer+"/-",this.dataRecursiveRefMap,this.arrayMap);try{for(var a=q(e),s=a.next();!s.done;s=a.next()){var l=s.value;if(l.checked){var u=Ot(this.templateRefLibrary[r]);u.setValue(l.value),o.push(u)}}}catch(p){n={error:p}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(n)throw n.error}}o.markAsDirty()},t.prototype.getFormControl=function(t){return t.layoutNode&&V(t.layoutNode.dataPointer)&&"$ref"!==t.layoutNode.type?Dt(this.formGroup,this.getDataPointer(t)):null},t.prototype.getFormControlValue=function(t){if(!t.layoutNode||!V(t.layoutNode.dataPointer)||"$ref"===t.layoutNode.type)return null;var e=Dt(this.formGroup,this.getDataPointer(t));return e?e.value:null},t.prototype.getFormControlGroup=function(t){return t.layoutNode&&V(t.layoutNode.dataPointer)?Dt(this.formGroup,this.getDataPointer(t),!0):null},t.prototype.getFormControlName=function(t){return t.layoutNode&&V(t.layoutNode.dataPointer)&&j(t.dataIndex)?st.toKey(this.getDataPointer(t)):null},t.prototype.getLayoutArray=function(t){return st.get(this.layout,this.getLayoutPointer(t),0,-1)},t.prototype.getParentNode=function(t){return st.get(this.layout,this.getLayoutPointer(t),0,-2)},t.prototype.getDataPointer=function(t){return t.layoutNode&&V(t.layoutNode.dataPointer)&&j(t.dataIndex)?st.toIndexedPointer(t.layoutNode.dataPointer,t.dataIndex,this.arrayMap):null},t.prototype.getLayoutPointer=function(t){return j(t.layoutIndex)?"/"+t.layoutIndex.join("/items/"):null},t.prototype.isControlBound=function(t){if(!t.layoutNode||!V(t.layoutNode.dataPointer)||!j(t.dataIndex))return!1;var e=this.getFormControlGroup(t),o=this.getFormControlName(t);return!!e&&et(e.controls,o)},t.prototype.addItem=function(t,e){if(!(t.layoutNode&&V(t.layoutNode.$ref)&&j(t.dataIndex)&&j(t.layoutIndex)))return!1;var o=Ot(this.templateRefLibrary[t.layoutNode.$ref]);t.layoutNode.arrayItem?this.getFormControlGroup(t).push(o):this.getFormControlGroup(t).addControl(e||this.getFormControlName(t),o);var n=At(t.layoutNode,this);return n.arrayItem=t.layoutNode.arrayItem,t.layoutNode.arrayItemType?n.arrayItemType=t.layoutNode.arrayItemType:delete n.arrayItemType,e&&(n.name=e,n.dataPointer+="/"+st.escape(e),n.options.title=rt(e)),st.insert(this.layout,this.getLayoutPointer(t),n),!0},t.prototype.moveArrayItem=function(t,e,o){if(!(t.layoutNode&&V(t.layoutNode.dataPointer)&&j(t.dataIndex)&&j(t.layoutIndex)&&V(e)&&V(o)&&e!==o))return!1;var n=this.getFormControlGroup(t),i=n.at(e);n.removeAt(e),n.insert(o,i),n.updateValueAndValidity();var r=this.getLayoutArray(t);return r.splice(o,0,r.splice(e,1)[0]),!0},t.prototype.removeItem=function(t){return!!(t.layoutNode&&V(t.layoutNode.dataPointer)&&j(t.dataIndex)&&j(t.layoutIndex))&&(t.layoutNode.arrayItem?this.getFormControlGroup(t).removeAt(t.dataIndex[t.dataIndex.length-1]):this.getFormControlGroup(t).removeControl(this.getFormControlName(t)),st.remove(this.layout,this.getLayoutPointer(t)),!0)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),zt=function(){function t(t,e,o){this.elementRef=t,this.jsf=e,this.ngZone=o,this.overParentElement=!1,this.overChildElement=!1}return t.prototype.ngOnInit=function(){var n=this;this.orderable&&this.layoutNode&&this.layoutIndex&&this.dataIndex&&(this.element=this.elementRef.nativeElement,this.element.draggable=!0,this.arrayLayoutIndex="move:"+this.layoutIndex.slice(0,-1).toString(),this.ngZone.runOutsideAngular(function(){n.element.addEventListener("dragstart",function(t){t.dataTransfer.effectAllowed="move";var e=n.dataIndex[n.dataIndex.length-1];sessionStorage.setItem(n.arrayLayoutIndex,e+"")}),n.element.addEventListener("dragover",function(t){return t.preventDefault&&t.preventDefault(),!(t.dataTransfer.dropEffect="move")}),n.element.addEventListener("dragenter",function(t){if(n.overParentElement)return n.overChildElement=!0;n.overParentElement=!0;var e=sessionStorage.getItem(n.arrayLayoutIndex);null!==e&&(n.dataIndex[n.dataIndex.length-1]<+e?n.element.classList.add("drag-target-top"):n.dataIndex[n.dataIndex.length-1]>+e&&n.element.classList.add("drag-target-bottom"))}),n.element.addEventListener("dragleave",function(t){n.overChildElement?n.overChildElement=!1:n.overParentElement&&(n.overParentElement=!1);var e=sessionStorage.getItem(n.arrayLayoutIndex);n.overParentElement||n.overChildElement||null===e||(n.element.classList.remove("drag-target-top"),n.element.classList.remove("drag-target-bottom"))}),n.element.addEventListener("drop",function(t){n.element.classList.remove("drag-target-top"),n.element.classList.remove("drag-target-bottom");var e=sessionStorage.getItem(n.arrayLayoutIndex),o=n.dataIndex[n.dataIndex.length-1];return null!==e&&+e!==o&&n.jsf.moveArrayItem(n,+e,o),sessionStorage.removeItem(n.arrayLayoutIndex),!1})}))},t.decorators=[{type:r.Directive,args:[{selector:"[orderable]"}]}],t.ctorParameters=function(){return[{type:r.ElementRef},{type:$t},{type:r.NgZone}]},t.propDecorators={orderable:[{type:r.Input}],layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),_t=function(){function t(t){this.jsf=t}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{}},Object.defineProperty(t.prototype,"showAddButton",{get:function(){return!this.layoutNode.arrayItem||this.layoutIndex[this.layoutIndex.length-1]<this.options.maxItems},enumerable:!0,configurable:!0}),t.prototype.addItem=function(t){t.preventDefault(),this.jsf.addItem(this)},Object.defineProperty(t.prototype,"buttonText",{get:function(){var t={dataIndex:this.dataIndex.slice(0,-1),layoutIndex:this.layoutIndex.slice(0,-1),layoutNode:this.jsf.getParentNode(this)};return t.layoutNode.add||this.jsf.setArrayItemTitle(t,this.layoutNode,this.itemCount)},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Component,args:[{selector:"add-reference-widget",template:'\n    <button *ngIf="showAddButton"\n      [class]="options?.fieldHtmlClass || \'\'"\n      [disabled]="options?.readonly"\n      (click)="addItem($event)">\n      <span *ngIf="options?.icon" [class]="options?.icon"></span>\n      <span *ngIf="options?.title" [innerHTML]="buttonText"></span>\n    </button>',changeDetection:r.ChangeDetectionStrategy.Default}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Wt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"one-of-widget",template:""}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Bt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){"function"==typeof this.options.onClick?this.options.onClick(t):this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"button-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <button\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [name]="controlName"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (click)="updateValue($event)">\n        <span *ngIf="options?.icon || options?.title"\n          [class]="options?.icon"\n          [innerHTML]="options?.title"></span>\n      </button>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Jt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.trueValue=!0,this.falseValue=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),null!==this.controlValue&&this.controlValue!==undefined||(this.controlValue=this.options.title)},t.prototype.updateValue=function(t){t.preventDefault(),this.jsf.updateValue(this,t.target.checked?this.trueValue:this.falseValue)},Object.defineProperty(t.prototype,"isChecked",{get:function(){return this.jsf.getFormControlValue(this)===this.trueValue},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Component,args:[{selector:"checkbox-widget",template:"\n    <label\n      [attr.for]=\"'control' + layoutNode?._id\"\n      [class]=\"options?.itemLabelHtmlClass || ''\">\n      <input *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        type=\"checkbox\">\n      <input *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [checked]=\"isChecked ? 'checked' : null\"\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [value]=\"controlValue\"\n        type=\"checkbox\"\n        (change)=\"updateValue($event)\">\n      <span *ngIf=\"options?.title\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></span>\n    </label>"}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Gt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.checkboxList=[]}return t.prototype.ngOnInit=function(){if(this.options=this.layoutNode.options||{},this.layoutOrientation="checkboxes-inline"===this.layoutNode.type||"checkboxbuttons"===this.layoutNode.type?"horizontal":"vertical",this.jsf.initializeControl(this),this.checkboxList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!0),this.boundControl){var e=this.jsf.getFormControl(this);this.checkboxList.forEach(function(t){return t.checked=e.value.includes(t.value)})}},t.prototype.updateValue=function(t){try{for(var e=q(this.checkboxList),o=e.next();!o.done;o=e.next()){var n=o.value;t.target.value===n.value&&(n.checked=t.target.checked)}}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=e["return"])&&r.call(e)}finally{if(i)throw i.error}}var i,r;this.boundControl&&this.jsf.updateArrayCheckboxList(this,this.checkboxList)},t.decorators=[{type:r.Component,args:[{selector:"checkboxes-widget",template:'\n    <label *ngIf="options?.title"\n      [class]="options?.labelHtmlClass || \'\'"\n      [style.display]="options?.notitle ? \'none\' : \'\'"\n      [innerHTML]="options?.title"></label>\n\n    \x3c!-- \'horizontal\' = checkboxes-inline or checkboxbuttons --\x3e\n    <div *ngIf="layoutOrientation === \'horizontal\'" [class]="options?.htmlClass || \'\'">\n      <label *ngFor="let checkboxItem of checkboxList"\n        [attr.for]="\'control\' + layoutNode?._id + \'/\' + checkboxItem.value"\n        [class]="(options?.itemLabelHtmlClass || \'\') + (checkboxItem.checked ?\n          (\' \' + (options?.activeClass || \'\') + \' \' + (options?.style?.selected || \'\')) :\n          (\' \' + (options?.style?.unselected || \'\')))">\n        <input type="checkbox"\n          [attr.required]="options?.required"\n          [checked]="checkboxItem.checked"\n          [class]="options?.fieldHtmlClass || \'\'"\n          [disabled]="controlDisabled"\n          [id]="\'control\' + layoutNode?._id + \'/\' + checkboxItem.value"\n          [name]="checkboxItem?.name"\n          [readonly]="options?.readonly ? \'readonly\' : null"\n          [value]="checkboxItem.value"\n          (change)="updateValue($event)">\n        <span [innerHTML]="checkboxItem.name"></span>\n      </label>\n    </div>\n\n    \x3c!-- \'vertical\' = regular checkboxes --\x3e\n    <div *ngIf="layoutOrientation === \'vertical\'">\n      <div *ngFor="let checkboxItem of checkboxList" [class]="options?.htmlClass || \'\'">\n        <label\n          [attr.for]="\'control\' + layoutNode?._id + \'/\' + checkboxItem.value"\n          [class]="(options?.itemLabelHtmlClass || \'\') + (checkboxItem.checked ?\n            (\' \' + (options?.activeClass || \'\') + \' \' + (options?.style?.selected || \'\')) :\n            (\' \' + (options?.style?.unselected || \'\')))">\n          <input type="checkbox"\n            [attr.required]="options?.required"\n            [checked]="checkboxItem.checked"\n            [class]="options?.fieldHtmlClass || \'\'"\n            [disabled]="controlDisabled"\n            [id]="options?.name + \'/\' + checkboxItem.value"\n            [name]="checkboxItem?.name"\n            [readonly]="options?.readonly ? \'readonly\' : null"\n            [value]="checkboxItem.value"\n            (change)="updateValue($event)">\n          <span [innerHTML]="checkboxItem?.name"></span>\n        </label>\n      </div>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Yt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"file-widget",template:""}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ut=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"input-widget",template:'\n    <div [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <input *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [type]="layoutNode?.type">\n      <input *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (input)="updateValue($event)">\n        <datalist *ngIf="options?.typeahead?.source"\n          [id]="\'control\' + layoutNode?._id + \'Autocomplete\'">\n          <option *ngFor="let word of options?.typeahead?.source" [value]="word">\n        </datalist>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Zt=function(){function t(t){this.jsf=t,this.message=null}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.message=this.options.help||this.options.helpvalue||this.options.msg||this.options.message},t.decorators=[{type:r.Component,args:[{selector:"message-widget",template:'\n    <span *ngIf="message"\n      [class]="options?.labelHtmlClass || \'\'"\n      [innerHTML]="message"></span>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Kt=function(){function t(){}return t.decorators=[{type:r.Component,args:[{selector:"none-widget",template:""}]}],t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Xt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.allowNegative=!0,this.allowDecimal=!0,this.allowExponents=!1,this.lastValidNumber=""}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),"integer"===this.layoutNode.dataType&&(this.allowDecimal=!1)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"number-widget",template:'\n    <div [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <input *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [title]="lastValidNumber"\n        [type]="layoutNode?.type === \'range\' ? \'range\' : \'number\'">\n      <input *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.placeholder]="options?.placeholder"\n        [attr.required]="options?.required"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [title]="lastValidNumber"\n        [type]="layoutNode?.type === \'range\' ? \'range\' : \'number\'"\n        [value]="controlValue"\n        (input)="updateValue($event)">\n      <span *ngIf="layoutNode?.type === \'range\'" [innerHTML]="controlValue"></span>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Qt=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.layoutOrientation="vertical",this.radiosList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},"radios-inline"!==this.layoutNode.type&&"radiobuttons"!==this.layoutNode.type||(this.layoutOrientation="horizontal"),this.radiosList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!0),this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"radios-widget",template:"\n    <label *ngIf=\"options?.title\"\n      [attr.for]=\"'control' + layoutNode?._id\"\n      [class]=\"options?.labelHtmlClass || ''\"\n      [style.display]=\"options?.notitle ? 'none' : ''\"\n      [innerHTML]=\"options?.title\"></label>\n\n    \x3c!-- 'horizontal' = radios-inline or radiobuttons --\x3e\n    <div *ngIf=\"layoutOrientation === 'horizontal'\"\n      [class]=\"options?.htmlClass || ''\">\n      <label *ngFor=\"let radioItem of radiosList\"\n        [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n        [class]=\"(options?.itemLabelHtmlClass || '') +\n          ((controlValue + '' === radioItem?.value + '') ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\">\n        <input type=\"radio\"\n          [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n          [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n          [attr.required]=\"options?.required\"\n          [checked]=\"radioItem?.value === controlValue\"\n          [class]=\"options?.fieldHtmlClass || ''\"\n          [disabled]=\"controlDisabled\"\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n          [name]=\"controlName\"\n          [value]=\"radioItem?.value\"\n          (change)=\"updateValue($event)\">\n        <span [innerHTML]=\"radioItem?.name\"></span>\n      </label>\n    </div>\n\n    \x3c!-- 'vertical' = regular radios --\x3e\n    <div *ngIf=\"layoutOrientation !== 'horizontal'\">\n      <div *ngFor=\"let radioItem of radiosList\"\n        [class]=\"options?.htmlClass || ''\">\n        <label\n          [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n          [class]=\"(options?.itemLabelHtmlClass || '') +\n            ((controlValue + '' === radioItem?.value + '') ?\n            (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n            (' ' + (options?.style?.unselected || '')))\">\n          <input type=\"radio\"\n            [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n            [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n            [attr.required]=\"options?.required\"\n            [checked]=\"radioItem?.value === controlValue\"\n            [class]=\"options?.fieldHtmlClass || ''\"\n            [disabled]=\"controlDisabled\"\n            [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n            [name]=\"controlName\"\n            [value]=\"radioItem?.value\"\n            (change)=\"updateValue($event)\">\n          <span [innerHTML]=\"radioItem?.name\"></span>\n        </label>\n      </div>\n    </div>"}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),te=function(){function t(t){this.jsf=t,this.isFlexItem=!1}return t.prototype.isDraggable=function(t){return t.arrayItem&&"$ref"!==t.type&&"list"===t.arrayItemType&&!1!==this.isOrderable},t.prototype.getFlexAttribute=function(t,e){var o=["flex-grow","flex-shrink","flex-basis"].indexOf(e);return((t.options||{}).flex||"").split(/\s+/)[o]||(t.options||{})[e]||["1","1","auto"][o]},t.prototype.showWidget=function(t){return this.jsf.evaluateCondition(t,this.dataIndex)},t.decorators=[{type:r.Component,args:[{selector:"root-widget",template:'\n    <div *ngFor="let layoutItem of layout; let i = index" class="layout-root-widget"\n      [class.form-flex-item]="isFlexItem"\n      [style.align-self]="(layoutItem.options || {})[\'align-self\']"\n      [style.flex-basis]="getFlexAttribute(layoutItem, \'flex-basis\')"\n      [style.flex-grow]="getFlexAttribute(layoutItem, \'flex-grow\')"\n      [style.flex-shrink]="getFlexAttribute(layoutItem, \'flex-shrink\')"\n      [style.order]="(layoutItem.options || {}).order">\n      <div\n        [dataIndex]="layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])"\n        [layoutIndex]="(layoutIndex || []).concat(i)"\n        [layoutNode]="layoutItem"\n        [orderable]="isDraggable(layoutItem)">\n        <select-framework-widget *ngIf="showWidget(layoutItem)"\n          [dataIndex]="layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])"\n          [layoutIndex]="(layoutIndex || []).concat(i)"\n          [layoutNode]="layoutItem"></select-framework-widget>\n      </div>\n    </div>',styles:["\n    [draggable=true] {\n      transition: all 150ms cubic-bezier(.4, 0, .2, 1);\n    }\n    [draggable=true]:hover {\n      cursor: move;\n      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n      position: relative; z-index: 10;\n      margin-top: -1px;\n      margin-left: -1px;\n      margin-right: 1px;\n      margin-bottom: 1px;\n    }\n    [draggable=true].drag-target-top {\n      box-shadow: 0 -2px 0 #000;\n      position: relative; z-index: 20;\n    }\n    [draggable=true].drag-target-bottom {\n      box-shadow: 0 2px 0 #000;\n      position: relative; z-index: 20;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={dataIndex:[{type:r.Input}],layoutIndex:[{type:r.Input}],layout:[{type:r.Input}],isOrderable:[{type:r.Input}],isFlexItem:[{type:r.Input}]},t}(),ee=function(){function t(t){this.jsf=t,this.expanded=!0}return Object.defineProperty(t.prototype,"sectionTitle",{get:function(){return this.options.notitle?null:this.jsf.setItemTitle(this)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){switch(this.jsf.initializeControl(this),this.options=this.layoutNode.options||{},this.expanded="boolean"==typeof this.options.expanded?this.options.expanded:!this.options.expandable,this.layoutNode.type){case"fieldset":case"array":case"tab":case"advancedfieldset":case"authfieldset":case"optionfieldset":case"selectfieldset":this.containerType="fieldset";break;default:this.containerType="div"}},t.prototype.toggleExpanded=function(){this.options.expandable&&(this.expanded=!this.expanded)},t.prototype.getFlexAttribute=function(t){var e="flex"===this.layoutNode.type||!!this.options.displayFlex||"flex"===this.options.display;if("flex"!==t&&!e)return null;switch(t){case"is-flex":return e;case"display":return e?"flex":"initial";case"flex-direction":case"flex-wrap":var o=["flex-direction","flex-wrap"].indexOf(t);return(this.options["flex-flow"]||"").split(/\s+/)[o]||this.options[t]||["column","nowrap"][o];case"justify-content":case"align-items":case"align-content":return this.options[t]}},t.decorators=[{type:r.Component,args:[{selector:"section-widget",template:'\n    <div *ngIf="containerType === \'div\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded">\n      <label *ngIf="sectionTitle"\n        class="legend"\n        [class]="options?.labelHtmlClass || \'\'"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></label>\n      <root-widget *ngIf="expanded"\n        [dataIndex]="dataIndex"\n        [layout]="layoutNode.items"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [isOrderable]="options?.orderable"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"></root-widget>\n    </div>\n    <fieldset *ngIf="containerType === \'fieldset\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded"\n      [disabled]="options?.readonly">\n      <legend *ngIf="sectionTitle"\n        class="legend"\n        [class]="options?.labelHtmlClass || \'\'"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></legend>\n      <div *ngIf="options?.messageLocation !== \'bottom\'">\n        <p *ngIf="options?.description"\n        class="help-block"\n        [class]="options?.labelHelpBlockClass || \'\'"\n        [innerHTML]="options?.description"></p>\n      </div>\n      <root-widget *ngIf="expanded"\n        [dataIndex]="dataIndex"\n        [layout]="layoutNode.items"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [isOrderable]="options?.orderable"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"></root-widget>\n      <div *ngIf="options?.messageLocation === \'bottom\'">\n        <p *ngIf="options?.description"\n        class="help-block"\n        [class]="options?.labelHelpBlockClass || \'\'"\n        [innerHTML]="options?.description"></p>\n      </div>\n    </fieldset>',styles:["\n    .legend { font-weight: bold; }\n    .expandable > legend:before, .expandable > label:before  { content: '▶'; padding-right: .3em; }\n    .expanded > legend:before, .expanded > label:before  { content: '▼'; padding-right: .2em; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),oe=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.config={mathJaxLib:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML",toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"links"},{name:"insert"},{name:"forms"},{name:"tools"},{name:"document",groups:["mode","document","doctools"]},{name:"others"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"styles"},{name:"colors"},{name:"about"}],removeButtons:"Underline",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",filebrowserBrowseUrl:"/browser/browse.php",filebrowserUploadUrl:"/uploader/upload.php"}}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.commentsClick=function(){console.log(this.layoutNode.dataPointer)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t)},t.decorators=[{type:r.Component,args:[{selector:"ckeditor-widget",template:'<div\n    [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <ck-editor (ngModelChange)="updateValue($event)" [(ngModel)]="controlValue" [name]="controlName" [config]="config">\n      </ck-editor>\n       <button *ngIf="options?.comments" color="primary" (click)="commentsClick()"></button>\n    </div>\n    '}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),ne=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.selectList=[],this.isArray=B}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.selectList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!!this.options.required,!!this.options.flatList),this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"select-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <select *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <option *ngIf="!isArray(selectItem?.items)"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </option>\n          <optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <option *ngFor="let subItem of selectItem.items"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </option>\n          </optgroup>\n        </ng-template>\n      </select>\n      <select *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        (change)="updateValue($event)">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <option *ngIf="!isArray(selectItem?.items)"\n            [selected]="selectItem?.value === controlValue"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </option>\n          <optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <option *ngFor="let subItem of selectItem.items"\n              [attr.selected]="subItem?.value === controlValue"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </option>\n          </optgroup>\n        </ng-template>\n      </select>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),ie=function(){function t(t,e){this.componentFactory=t,this.jsf=e,this.newComponent=null}return t.prototype.ngOnInit=function(){this.updateComponent()},t.prototype.ngOnChanges=function(){this.updateComponent()},t.prototype.updateComponent=function(){if(!this.newComponent&&this.jsf.framework&&(this.newComponent=this.widgetContainer.createComponent(this.componentFactory.resolveComponentFactory(this.jsf.framework))),this.newComponent)try{for(var t=q(["layoutNode","layoutIndex","dataIndex"]),e=t.next();!e.done;e=t.next()){var o=e.value;this.newComponent.instance[o]=this[o]}}catch(r){n={error:r}}finally{try{e&&!e.done&&(i=t["return"])&&i.call(t)}finally{if(n)throw n.error}}var n,i},t.decorators=[{type:r.Component,args:[{selector:"select-framework-widget",template:"<div #widgetContainer></div>"}]}],t.ctorParameters=function(){return[{type:r.ComponentFactoryResolver},{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}],widgetContainer:[{type:r.ViewChild,args:["widgetContainer",{read:r.ViewContainerRef}]}]},t}(),re=function(){function t(t,e){this.componentFactory=t,this.jsf=e,this.newComponent=null}return t.prototype.ngOnInit=function(){this.updateComponent()},t.prototype.ngOnChanges=function(){this.updateComponent()},t.prototype.updateComponent=function(){if(!this.newComponent&&(this.layoutNode||{}).widget&&(this.newComponent=this.widgetContainer.createComponent(this.componentFactory.resolveComponentFactory(this.layoutNode.widget))),this.newComponent)try{for(var t=q(["layoutNode","layoutIndex","dataIndex"]),e=t.next();!e.done;e=t.next()){var o=e.value;this.newComponent.instance[o]=this[o]}}catch(r){n={error:r}}finally{try{e&&!e.done&&(i=t["return"])&&i.call(t)}finally{if(n)throw n.error}}var n,i},t.decorators=[{type:r.Component,args:[{selector:"select-widget-widget",template:"<div #widgetContainer></div>"}]}],t.ctorParameters=function(){return[{type:r.ComponentFactoryResolver},{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}],widgetContainer:[{type:r.ViewChild,args:["widgetContainer",{read:r.ViewContainerRef}]}]},t}(),ae=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){var e=this;this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),et(this.options,"disabled")?this.controlDisabled=this.options.disabled:this.jsf.formOptions.disableInvalidSubmit&&(this.controlDisabled=!this.jsf.isValid,this.jsf.isValidChanges.subscribe(function(t){return e.controlDisabled=!t})),null!==this.controlValue&&this.controlValue!==undefined||(this.controlValue=this.options.title)},t.prototype.updateValue=function(t){"function"==typeof this.options.onClick?this.options.onClick(t):this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"submit-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <input\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (click)="updateValue($event)">\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),se=function(){function t(t){this.jsf=t,this.selectedItem=0,this.showAddTab=!0}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.itemCount=this.layoutNode.items.length-1,this.updateControl()},t.prototype.select=function(t){"$ref"===this.layoutNode.items[t].type&&(this.itemCount=this.layoutNode.items.length,this.jsf.addItem({layoutNode:this.layoutNode.items[t],layoutIndex:this.layoutIndex.concat(t),dataIndex:this.dataIndex.concat(t)}),this.updateControl()),this.selectedItem=t},t.prototype.updateControl=function(){var t=this.layoutNode.items[this.layoutNode.items.length-1];"$ref"===t.type&&this.itemCount>=(t.options.maxItems||1e3)&&(this.showAddTab=!1)},t.prototype.setTabTitle=function(t,e){return this.jsf.setArrayItemTitle(this,t,e)},t.decorators=[{type:r.Component,args:[{selector:"tabs-widget",template:"\n    <ul\n      [class]=\"options?.labelHtmlClass || ''\">\n      <li *ngFor=\"let item of layoutNode?.items; let i = index\"\n        [class]=\"(options?.itemLabelHtmlClass || '') + (selectedItem === i ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + options?.style?.unselected))\"\n        role=\"presentation\"\n        data-tabs>\n        <a *ngIf=\"showAddTab || item.type !== '$ref'\"\n           [class]=\"'nav-link' + (selectedItem === i ? (' ' + options?.activeClass + ' ' + options?.style?.selected) :\n            (' ' + options?.style?.unselected))\"\n          [innerHTML]=\"setTabTitle(item, i)\"\n          (click)=\"select(i)\"></a>\n      </li>\n    </ul>\n\n    <div *ngFor=\"let layoutItem of layoutNode?.items; let i = index\"\n      [class]=\"options?.htmlClass || ''\">\n\n      <select-framework-widget *ngIf=\"selectedItem === i\"\n        [class]=\"(options?.fieldHtmlClass || '') +\n          ' ' + (options?.activeClass || '') +\n          ' ' + (options?.style?.selected || '')\"\n        [dataIndex]=\"layoutNode?.dataType === 'array' ? (dataIndex || []).concat(i) : dataIndex\"\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\n        [layoutNode]=\"layoutItem\"></select-framework-widget>\n\n    </div>",styles:[" a { cursor: pointer; } "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),le=function(){function t(t,e){this.componentFactory=t,this.jsf=e,this.newComponent=null}return t.prototype.ngOnInit=function(){this.updateComponent()},t.prototype.ngOnChanges=function(){this.updateComponent()},t.prototype.updateComponent=function(){if(!this.newComponent&&this.layoutNode.options.template&&(this.newComponent=this.widgetContainer.createComponent(this.componentFactory.resolveComponentFactory(this.layoutNode.options.template))),this.newComponent)try{for(var t=q(["layoutNode","layoutIndex","dataIndex"]),e=t.next();!e.done;e=t.next()){var o=e.value;this.newComponent.instance[o]=this[o]}}catch(r){n={error:r}}finally{try{e&&!e.done&&(i=t["return"])&&i.call(t)}finally{if(n)throw n.error}}var n,i},t.decorators=[{type:r.Component,args:[{selector:"template-widget",template:"<div #widgetContainer></div>"}]}],t.ctorParameters=function(){return[{type:r.ComponentFactoryResolver},{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}],widgetContainer:[{type:r.ViewChild,args:["widgetContainer",{read:r.ViewContainerRef}]}]},t}(),ue=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"textarea-widget",template:'\n    <div\n      [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <textarea *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"></textarea>\n      <textarea *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [attr.placeholder]="options?.placeholder"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [class]="options?.fieldHtmlClass || \'\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [value]="controlValue"\n        (input)="updateValue($event)">{{controlValue}}</textarea>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),pe=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[],this.theme="dp-material dp-main",this.datePickerConfig={firstDayOfWeek:"su",format:"YYYY-MM-DD HH:mm:ss",monthFormat:"MMM YYYY",disableKeypress:!1,allowMultiSelect:!1,closeOnSelect:!0,closeOnSelectDelay:100,openOnFocus:!0,openOnClick:!0,onOpenDelay:0,weekDayFormat:"ddd",appendTo:document.body,showNearMonthDays:!0,showWeekNumbers:!1,enableMonthSelector:!0,yearFormat:"YYYY",showGoToCurrent:!0,dayBtnFormat:"DD",monthBtnFormat:"MMM",hours12Format:"hh",hours24Format:"HH",meridiemFormat:"A",minutesFormat:"mm",minutesInterval:1,secondsFormat:"ss",secondsInterval:1,showSeconds:!0,showTwentyFourHours:!0,timeSeparator:":",multipleYearsNavigateBy:10,showMultipleYearsNavigation:!1,locale:p.locale(),hideInputContainer:!1,returnedValueType:String,unSelectOnClick:!0,hideOnOutsideClick:!0}}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly),this.options.format?this.datePickerConfig.format=this.options.format:this.datePickerConfig.format="YYYY-MM-DD HH:mm:ss",this.options.mode?this.mode=this.options.mode:this.mode="daytime",this.setControlDate(this.controlValue),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.ngOnChanges=function(){this.setControlDate(this.controlValue)},t.prototype.setControlDate=function(t){t||(t=p((new Date).getTime()).format(this.datePickerConfig.format)),this.dateValue=p(t,this.datePickerConfig.format)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.dateValue=p(t[0]).format(this.datePickerConfig.format),this.jsf.updateValue(this,this.dateValue)},t.decorators=[{type:r.Component,args:[{selector:"datetimepicker-widget",template:'\n    <dp-date-picker\n      [(ngModel)]="dateValue"\n      [mode]="mode"\n      [config]="datePickerConfig"\n      [theme]="theme"\n      [placeholder]="options?.title"\n      (onChange)="updateValue($event)">\n    </dp-date-picker>\n  ',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}],datePicker:[{type:r.ViewChild,args:["myDatePicker"]}]},t}(),de=function(){function t(){this.defaultWidget="text",this.widgetLibrary={none:Kt,root:te,"select-framework":ie,"select-widget":re,$ref:_t,email:"text",integer:"number",number:Xt,password:"text",search:"text",tel:"text",text:Ut,url:"text",color:"text",icon:"text",date:"text",datetime:pe,"datetime-local":"text",month:"text",range:"number",time:"text",week:"text",checkbox:Jt,file:Yt,hidden:"text",image:"text",radio:"radios",reset:"submit",submit:ae,button:Bt,select:ne,textarea:ue,checkboxes:Gt,"checkboxes-inline":"checkboxes",checkboxbuttons:"checkboxes",radios:Qt,"radios-inline":"radios",radiobuttons:"radios",section:ee,div:"section",fieldset:"section",flex:"section","one-of":Wt,array:"section",tabarray:"tabs",tab:"section",tabs:se,message:Zt,help:"message",msg:"message",html:"message",template:le,advancedfieldset:"section",authfieldset:"section",optionfieldset:"one-of",selectfieldset:"one-of",conditional:"section",actions:"section",tagsinput:"section",updown:"number","date-time":"datetime-local","alt-datetime":"datetime-local","alt-date":"date",wizard:"section",textline:"text",ckeditor:oe},this.registeredWidgets={},this.frameworkWidgets={},this.activeWidgets={},this.setActiveWidgets()}return t.prototype.setActiveWidgets=function(){this.activeWidgets=Object.assign({},this.widgetLibrary,this.frameworkWidgets,this.registeredWidgets);try{for(var t=q(Object.keys(this.activeWidgets)),e=t.next();!e.done;e=t.next()){var o=e.value,n=this.activeWidgets[o];if("string"==typeof n){for(var i=[];"string"==typeof n&&!i.includes(n);)i.push(n),n=this.activeWidgets[n];"string"!=typeof n&&(this.activeWidgets[o]=n)}}}catch(s){r={error:s}}finally{try{e&&!e.done&&(a=t["return"])&&a.call(t)}finally{if(r)throw r.error}}return!0;var r,a},t.prototype.setDefaultWidget=function(t){return!!this.hasWidget(t)&&(this.defaultWidget=t,!0)},t.prototype.hasWidget=function(t,e){return void 0===e&&(e="activeWidgets"),!(!t||"string"!=typeof t)&&et(this[e],t)},t.prototype.hasDefaultWidget=function(t){return this.hasWidget(t,"widgetLibrary")},t.prototype.registerWidget=function(t,e){return!(!t||!e||"string"!=typeof t)&&(this.registeredWidgets[t]=e,this.setActiveWidgets())},t.prototype.unRegisterWidget=function(t){return!!et(this.registeredWidgets,t)&&(delete this.registeredWidgets[t],this.setActiveWidgets())},t.prototype.unRegisterAllWidgets=function(t){return void 0===t&&(t=!0),this.registeredWidgets={},t&&(this.frameworkWidgets={}),this.setActiveWidgets()},t.prototype.registerFrameworkWidgets=function(t){return null!==t&&"object"==typeof t||(t={}),this.frameworkWidgets=t,this.setActiveWidgets()},t.prototype.unRegisterFrameworkWidgets=function(){return!!Object.keys(this.frameworkWidgets).length&&(this.frameworkWidgets={},this.setActiveWidgets())},t.prototype.getWidget=function(t,e){return void 0===e&&(e="activeWidgets"),this.hasWidget(t,e)?this[e][t]:this.hasWidget(this.defaultWidget,e)?this[e][this.defaultWidget]:null},t.prototype.getAllWidgets=function(){return{widgetLibrary:this.widgetLibrary,registeredWidgets:this.registeredWidgets,frameworkWidgets:this.frameworkWidgets,activeWidgets:this.activeWidgets}},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[]},t}(),ce=function(){function t(){this.widgets={},this.stylesheets=[],this.scripts=[]}return t.decorators=[{type:r.Injectable}],t}(),me=function(){function t(t,e){var o=this;this.frameworks=t,this.widgetLibrary=e,this.activeFramework=null,this.loadExternalAssets=!1,this.frameworkLibrary={},this.frameworks.forEach(function(t){return o.frameworkLibrary[t.name]=t}),this.defaultFramework=this.frameworks[0].name,this.setFramework(this.defaultFramework)}return t.prototype.setLoadExternalAssets=function(t){void 0===t&&(t=!0),this.loadExternalAssets=!!t},t.prototype.setFramework=function(t,e){return void 0===t&&(t=this.defaultFramework),void 0===e&&(e=this.loadExternalAssets),this.activeFramework="string"==typeof t&&this.hasFramework(t)?this.frameworkLibrary[t]:"object"==typeof t&&et(t,"framework")?t:this.frameworkLibrary[this.defaultFramework],this.registerFrameworkWidgets(this.activeFramework)},t.prototype.registerFrameworkWidgets=function(t){return et(t,"widgets")?this.widgetLibrary.registerFrameworkWidgets(t.widgets):this.widgetLibrary.unRegisterFrameworkWidgets()},t.prototype.hasFramework=function(t){return et(this.frameworkLibrary,t)},t.prototype.getFramework=function(){return this.activeFramework||this.setFramework("default",!0),this.activeFramework.framework},t.prototype.getFrameworkWidgets=function(){return this.activeFramework.widgets||{}},t.prototype.getFrameworkStylesheets=function(t){return void 0===t&&(t=this.loadExternalAssets),t&&this.activeFramework.stylesheets||[]},t.prototype.getFrameworkScripts=function(t){return void 0===t&&(t=this.loadExternalAssets),t&&this.activeFramework.scripts||[]},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Inject,args:[ce]}]},{type:de,decorators:[{type:r.Inject,args:[de]}]}]},t}(),fe={provide:s.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return he}),multi:!0},he=function(){function t(t,e,o,n,i){this.changeDetector=t,this.frameworkLibrary=e,this.widgetLibrary=o,this.jsf=n,this.sanitizer=i,this.formValueSubscription=null,this.formInitialized=!1,this.objectWrap=!1,this.previousInputs={schema:null,layout:null,data:null,options:null,framework:null,widgets:null,form:null,model:null,JSONSchema:null,UISchema:null,formData:null,loadExternalAssets:null,debug:null},this.defaultLayoutOptions={},this.onChanges=new r.EventEmitter,this.onSubmit=new r.EventEmitter,this.isValid=new r.EventEmitter,this.validationErrors=new r.EventEmitter,this.formSchema=new r.EventEmitter,this.formLayout=new r.EventEmitter,this.dataChange=new r.EventEmitter,this.modelChange=new r.EventEmitter,this.formDataChange=new r.EventEmitter,this.ngModelChange=new r.EventEmitter}return Object.defineProperty(t.prototype,"value",{get:function(){return this.objectWrap?this.jsf.data[1]:this.jsf.data},set:function(t){this.setFormValues(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stylesheets",{get:function(){var t=this.frameworkLibrary.getFrameworkStylesheets(),e=this.sanitizer.bypassSecurityTrustResourceUrl;return t.map(function(t){return e(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scripts",{get:function(){var t=this.frameworkLibrary.getFrameworkScripts(),e=this.sanitizer.bypassSecurityTrustResourceUrl;return t.map(function(t){return e(t)})},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateForm()},t.prototype.ngOnChanges=function(){this.updateForm()},t.prototype.writeValue=function(t){this.setFormValues(t,!1),this.formValuesInput||(this.formValuesInput="ngModel")},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.jsf.formOptions.formDisabled!==!!t&&(this.jsf.formOptions.formDisabled=!!t,this.initializeForm())},t.prototype.updateForm=function(){var e=this;if(!this.formInitialized||!this.formValuesInput||this.language&&this.language!==this.jsf.language)this.initializeForm();else{this.language&&this.language!==this.jsf.language&&this.jsf.setLanguage(this.language);var t=Object.keys(this.previousInputs).filter(function(t){return e.previousInputs[t]!==e[t]}),o=!0;if(1===t.length&&"form"===t[0]&&this.formValuesInput.startsWith("form.")&&(t=Object.keys(this.previousInputs.form||{}).filter(function(t){return!E.isEqual(e.previousInputs.form[t],e.form[t])}).map(function(t){return"form."+t}),o=!1),1===t.length&&t[0]===this.formValuesInput)if(-1===this.formValuesInput.indexOf("."))this.setFormValues(this[this.formValuesInput],o);else{var n=x(this.formValuesInput.split("."),2),i=n[0],r=n[1];this.setFormValues(this[i][r],o)}else t.length&&(this.initializeForm(),this.onChange&&this.onChange(this.jsf.formValues),this.onTouched&&this.onTouched(this.jsf.formValues));Object.keys(this.previousInputs).filter(function(t){return e.previousInputs[t]!==e[t]}).forEach(function(t){return e.previousInputs[t]=e[t]})}},t.prototype.setFormValues=function(t,e){if(void 0===e&&(e=!0),t){var o=this.objectWrap?t[1]:t;this.jsf.formGroup?e&&this.jsf.formGroup.reset():(this.jsf.formValues=t,this.activateForm()),this.jsf.formGroup&&this.jsf.formGroup.patchValue(o),this.onChange&&this.onChange(o),this.onTouched&&this.onTouched(o)}else this.jsf.formGroup.reset()},t.prototype.submitForm=function(){var t=this.jsf.validData;this.onSubmit.emit(this.objectWrap?t[1]:t)},t.prototype.initializeForm=function(){if(this.schema||this.layout||this.data||this.form||this.model||this.JSONSchema||this.UISchema||this.formData||this.ngModel||this.jsf.data){if(this.jsf.resetAllValues(),this.initializeOptions(),this.initializeSchema(),this.initializeLayout(),this.initializeLayoutDefaults(),this.initializeData(),this.activateForm(),this.debug||this.jsf.formOptions.debug){this.debugOutput=[].map(function(t){return JSON.stringify(t,null,2)}).join("\n")}this.formInitialized=!0}},t.prototype.initializeOptions=function(){this.language&&this.language!==this.jsf.language&&this.jsf.setLanguage(this.language),this.jsf.setOptions({debug:!!this.debug});var t,e,o=this.loadExternalAssets||!1,n=this.framework||"default";if(W(this.options)&&(this.jsf.setOptions(this.options),o=this.options.loadExternalAssets||o,n=this.options.framework||n),W(this.form)&&W(this.form.options)&&(this.jsf.setOptions(this.form.options),o=this.form.options.loadExternalAssets||o,n=this.form.options.framework||n),W(this.widgets)&&this.jsf.setOptions({widgets:this.widgets}),this.frameworkLibrary.setLoadExternalAssets(o),this.frameworkLibrary.setFramework(n),this.jsf.framework=this.frameworkLibrary.getFramework(),W(this.jsf.formOptions.widgets))try{for(var i=q(Object.keys(this.jsf.formOptions.widgets)),r=i.next();!r.done;r=i.next()){var a=r.value;this.widgetLibrary.registerWidget(a,this.jsf.formOptions.widgets[a])}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=i["return"])&&e.call(i)}finally{if(t)throw t.error}}W(this.form)&&W(this.form.tpldata)&&this.jsf.setTpldata(this.form.tpldata)},t.prototype.initializeSchema=function(){W(this.schema)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.schema=E.cloneDeep(this.schema)):et(this.form,"schema")&&W(this.form.schema)?this.jsf.schema=E.cloneDeep(this.form.schema):W(this.JSONSchema)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.jsf.schema=E.cloneDeep(this.JSONSchema)):et(this.form,"JSONSchema")&&W(this.form.JSONSchema)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.jsf.schema=E.cloneDeep(this.form.JSONSchema)):et(this.form,"properties")&&W(this.form.properties)?this.jsf.schema=E.cloneDeep(this.form):W(this.form),$(this.jsf.schema)||(U("object",this.jsf.schema.type)&&(this.jsf.schema.type="object"),et(this.jsf.schema,"type")&&"object"!==this.jsf.schema.type?(this.jsf.schema={type:"object",properties:{1:this.jsf.schema}},this.objectWrap=!0):et(this.jsf.schema,"type")||(W(this.jsf.schema.properties)||W(this.jsf.schema.patternProperties)||W(this.jsf.schema.additionalProperties)?this.jsf.schema.type="object":(this.jsf.JsonFormCompatibility=!0,this.jsf.schema={type:"object",properties:this.jsf.schema})),this.jsf.schema=jt(this.jsf.schema),this.jsf.compileAjvSchema(),this.jsf.schema=It(this.jsf.schema,this.jsf.schemaRefLibrary,this.jsf.schemaRecursiveRefMap,this.jsf.dataRecursiveRefMap,this.jsf.arrayMap),et(this.jsf.schemaRefLibrary,"")&&(this.jsf.hasRootReference=!0))},t.prototype.initializeData=function(){j(this.data)?(this.jsf.formValues=E.cloneDeep(this.data),this.formValuesInput="data"):j(this.model)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.formValues=E.cloneDeep(this.model),this.formValuesInput="model"):j(this.ngModel)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.formValues=E.cloneDeep(this.ngModel),this.formValuesInput="ngModel"):W(this.form)&&j(this.form.value)?(this.jsf.JsonFormCompatibility=!0,this.jsf.formValues=E.cloneDeep(this.form.value),this.formValuesInput="form.value"):W(this.form)&&j(this.form.data)?(this.jsf.formValues=E.cloneDeep(this.form.data),this.formValuesInput="form.data"):j(this.formData)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.formValuesInput="formData"):et(this.form,"formData")&&j(this.form.formData)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,this.jsf.formValues=E.cloneDeep(this.form.formData),this.formValuesInput="form.formData"):this.formValuesInput=null},t.prototype.initializeLayout=function(){var a=this,t=function(t){return(W(t)||B(t))&&Q(t,function(t,e){et(t,"options")&&W(t.options)&&(t.titleMap=t.options,delete t.options)},"top-down"),t};B(this.layout)?this.jsf.layout=E.cloneDeep(this.layout):B(this.form)?(this.jsf.AngularSchemaFormCompatibility=!0,this.jsf.layout=E.cloneDeep(this.form)):this.form&&B(this.form.form)?(this.jsf.JsonFormCompatibility=!0,this.jsf.layout=t(E.cloneDeep(this.form.form))):this.form&&B(this.form.layout)?this.jsf.layout=E.cloneDeep(this.form.layout):this.jsf.layout=["*"];var e=null;W(this.UISchema)?(this.jsf.ReactJsonSchemaFormCompatibility=!0,e=E.cloneDeep(this.UISchema)):et(this.form,"UISchema")?(this.jsf.ReactJsonSchemaFormCompatibility=!0,e=E.cloneDeep(this.form.UISchema)):et(this.form,"uiSchema")?(this.jsf.ReactJsonSchemaFormCompatibility=!0,e=E.cloneDeep(this.form.uiSchema)):et(this.form,"customFormItems")&&(this.jsf.JsonFormCompatibility=!0,e=t(E.cloneDeep(this.form.customFormItems))),e&&st.forEachDeep(e,function(t,e){var o=e.replace(/\//g,"/properties/").replace(/\/properties\/items\/properties\//g,"/items/properties/").replace(/\/properties\/titleMap\/properties\//g,"/titleMap/properties/");if(j(t)&&j(e)){var n=st.toKey(e),i=(st.parse(o)||[]).slice(0,-2),r=void 0;"ui:order"===n.toLowerCase()?r=H(i,["ui:order"]):("ui:"===n.slice(0,3).toLowerCase()&&(n=n.slice(3)),r=H(i,["x-schema-form",n])),st.has(a.jsf.schema,i)&&!st.has(a.jsf.schema,r)&&st.set(a.jsf.schema,r,t)}})},t.prototype.initializeLayoutDefaults=function(){this.jsf.defaultLayoutOptions=this.defaultLayoutOptions},t.prototype.activateForm=function(){var e=this;if($(this.jsf.schema)&&($(this.jsf.formValues)||this.jsf.buildSchemaFromData()),$(this.jsf.schema)||(this.jsf.compileAjvSchema(),this.jsf.buildLayout(this.widgetLibrary),this.jsf.buildFormGroupTemplate(this.jsf.formValues),this.jsf.buildFormGroup()),this.jsf.formGroup){$(this.jsf.formValues)||!0===this.jsf.formOptions.setSchemaDefaults||!0===this.jsf.formOptions.setLayoutDefaults||this.setFormValues(this.jsf.formValues),this.jsf.dataChanges.subscribe(function(t){e.onChanges.emit(e.objectWrap?t[1]:t),e.formValuesInput&&-1===e.formValuesInput.indexOf(".")&&e[e.formValuesInput+"Change"].emit(e.objectWrap?t[1]:t)}),this.jsf.formGroup.statusChanges.subscribe(function(){return e.changeDetector.markForCheck()}),this.jsf.isValidChanges.subscribe(function(t){return e.isValid.emit(t)}),this.jsf.validationErrorChanges.subscribe(function(t){return e.validationErrors.emit(t)}),this.formSchema.emit(this.jsf.schema),this.formLayout.emit(this.jsf.layout),this.onChanges.emit(this.objectWrap?this.jsf.data[1]:this.jsf.data);var t=st.get(this.jsf,"/formOptions/validateOnRender");if(t){var o=function(e){(!0===t||j(e.value))&&e.markAsTouched(),Object.keys(e.controls||{}).forEach(function(t){return o(e.controls[t])})};o(this.jsf.formGroup),this.isValid.emit(this.jsf.isValid),this.validationErrors.emit(this.jsf.ajvErrors)}}},t.decorators=[{type:r.Component,args:[{selector:"json-schema-form",template:'\n    <div *ngFor="let stylesheet of stylesheets">\n      <link rel="stylesheet" [href]="stylesheet">\n    </div>\n    <div *ngFor="let script of scripts">\n      <script type="text/javascript" [src]="script"><\/script>\n    </div>\n    <form class="json-schema-form" (ngSubmit)="submitForm()">\n      <root-widget [layout]="jsf?.layout"></root-widget>\n    </form>\n    <div *ngIf="debug || jsf?.formOptions?.debug">\n      Debug output: <pre>{{debugOutput}}</pre>\n    </div>',changeDetection:r.ChangeDetectionStrategy.OnPush,providers:[$t,fe]}]}],t.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:me},{type:de},{type:$t},{type:d.DomSanitizer}]},t.propDecorators={schema:[{type:r.Input}],layout:[{type:r.Input}],defaultLayoutOptions:[{type:r.Input}],data:[{type:r.Input}],options:[{type:r.Input}],framework:[{type:r.Input}],widgets:[{type:r.Input}],form:[{type:r.Input}],model:[{type:r.Input}],JSONSchema:[{type:r.Input}],UISchema:[{type:r.Input}],formData:[{type:r.Input}],ngModel:[{type:r.Input}],language:[{type:r.Input}],loadExternalAssets:[{type:r.Input}],debug:[{type:r.Input}],value:[{type:r.Input}],onChanges:[{type:r.Output}],onSubmit:[{type:r.Output}],isValid:[{type:r.Output}],validationErrors:[{type:r.Output}],formSchema:[{type:r.Output}],formLayout:[{type:r.Output}],dataChange:[{type:r.Output}],modelChange:[{type:r.Output}],formDataChange:[{type:r.Output}],ngModelChange:[{type:r.Output}]},t}(),ye=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.jsf.initializeControl(this)},t.decorators=[{type:r.Component,args:[{selector:"hidden-widget",template:'\n    <input *ngIf="boundControl"\n      [formControl]="formControl"\n      [id]="\'control\' + layoutNode?._id"\n      [name]="controlName"\n      type="hidden">\n    <input *ngIf="!boundControl"\n      [disabled]="controlDisabled"\n      [name]="controlName"\n      [id]="\'control\' + layoutNode?._id"\n      type="hidden"\n      [value]="controlValue">'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),ge=function(){function t(t){this.jsf=t}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{}},t.decorators=[{type:r.Component,args:[{selector:"tab-widget",template:'\n    <div [class]="options?.htmlClass || \'\'">\n      <root-widget\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [layout]="layoutNode.items"></root-widget>\n    </div>'}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),be=[_t,Wt,Bt,Jt,Gt,Yt,ye,Ut,Zt,Kt,Xt,Qt,te,ee,oe,ne,ie,re,ae,ge,se,le,ue,pe],ve=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[$t]}},t.decorators=[{type:r.NgModule,args:[{imports:[c.CommonModule,s.FormsModule,s.ReactiveFormsModule,m.CKEditorModule,f.DpDatePickerModule],declarations:H(be,[zt]),exports:H(be,[zt]),entryComponents:H(be),providers:[$t]}]}],t}(),xe=function(){function t(){}return t.decorators=[{type:r.Component,args:[{selector:"no-framework",template:'\n    <select-widget-widget\n      [dataIndex]="dataIndex"\n      [layoutIndex]="layoutIndex"\n      [layoutNode]="layoutNode"></select-widget-widget>'}]}],t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="no-framework",t.framework=xe,t}return v(t,e),t.decorators=[{type:r.Injectable}],t}(ce),Ce=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:ce,useClass:Ie,multi:!0}]}},t.decorators=[{type:r.NgModule,args:[{imports:[c.CommonModule,ve],declarations:[xe],exports:[xe],entryComponents:[xe]}]}],t}(),we=function(){function n(){}return n.forRoot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=t.length?t.map(function(t){return t.forRoot().providers[0]}):[{provide:ce,useClass:Ie,multi:!0}];return{ngModule:n,providers:H([$t,me,de],o)}},n.decorators=[{type:r.NgModule,args:[{imports:[c.CommonModule,s.FormsModule,s.ReactiveFormsModule,ve,Ce],declarations:[he],exports:[he,ve]}]}],n}(),Fe=function(){function t(t){this.jsf=t,this.isFlexItem=!1}return t.prototype.removeItem=function(t){this.jsf.removeItem(t)},t.prototype.getFlexAttribute=function(t,e){var o=["flex-grow","flex-shrink","flex-basis"].indexOf(e);return((t.options||{}).flex||"").split(/\s+/)[o]||(t.options||{})[e]||["1","1","auto"][o]},t.prototype.showWidget=function(t){return this.jsf.evaluateCondition(t,this.dataIndex)},t.decorators=[{type:r.Component,args:[{selector:"flex-layout-root-widget",template:'\n    <div *ngFor="let layoutNode of layout; let i = index"\n      [class.form-flex-item]="isFlexItem"\n      [style.flex-grow]="getFlexAttribute(layoutNode, \'flex-grow\')"\n      [style.flex-shrink]="getFlexAttribute(layoutNode, \'flex-shrink\')"\n      [style.flex-basis]="getFlexAttribute(layoutNode, \'flex-basis\')"\n      [style.align-self]="(layoutNode?.options || {})[\'align-self\']"\n      [style.order]="layoutNode?.options?.order"\n      [fxFlex]="layoutNode?.options?.fxFlex"\n      [fxFlexOrder]="layoutNode?.options?.fxFlexOrder"\n      [fxFlexOffset]="layoutNode?.options?.fxFlexOffset"\n      [fxFlexAlign]="layoutNode?.options?.fxFlexAlign">\n      <select-framework-widget *ngIf="showWidget(layoutNode)"\n        [dataIndex]="layoutNode?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])"\n        [layoutIndex]="(layoutIndex || []).concat(i)"\n        [layoutNode]="layoutNode"></select-framework-widget>\n    <div>',changeDetection:r.ChangeDetectionStrategy.Default}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={dataIndex:[{type:r.Input}],layoutIndex:[{type:r.Input}],layout:[{type:r.Input}],isFlexItem:[{type:r.Input}]},t}(),je=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.expanded=!0,this.containerType="div"}return Object.defineProperty(t.prototype,"sectionTitle",{get:function(){return this.options.notitle?null:this.jsf.setItemTitle(this)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){switch(this.jsf.initializeControl(this),this.options=this.layoutNode.options||{},this.expanded="boolean"==typeof this.options.expanded?this.options.expanded:!this.options.expandable,this.layoutNode.type){case"section":case"array":case"fieldset":case"advancedfieldset":case"authfieldset":case"optionfieldset":case"selectfieldset":this.containerType="fieldset";break;case"card":this.containerType="card";break;case"expansion-panel":this.containerType="expansion-panel";break;default:this.containerType="div"}this.options=Object.assign(this.jsf.defaultLayoutOptions,this.options)},t.prototype.toggleExpanded=function(){this.options.expandable&&(this.expanded=!this.expanded)},t.prototype.getFlexAttribute=function(t){var e="flex"===this.layoutNode.type||!!this.options.displayFlex||"flex"===this.options.display;switch(t){case"is-flex":return e;case"display":return e?"flex":"initial";case"flex-direction":case"flex-wrap":var o=["flex-direction","flex-wrap"].indexOf(t);return(this.options["flex-flow"]||"").split(/\s+/)[o]||this.options[t]||["column","nowrap"][o];case"justify-content":case"align-items":case"align-content":return this.options[t];case"layout":return(this.options.fxLayout||"row")+this.options.fxLayoutWrap?" "+this.options.fxLayoutWrap:""}},t.decorators=[{type:r.Component,args:[{selector:"flex-layout-section-widget",template:'\n    <div *ngIf="containerType === \'div\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded">\n      <label *ngIf="sectionTitle"\n        [class]="\'legend \' + (options?.labelHtmlClass || \'\')"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></label>\n      <flex-layout-root-widget *ngIf="expanded"\n        [layout]="layoutNode.items"\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [fxLayout]="getFlexAttribute(\'layout\')"\n        [fxLayoutGap]="options?.fxLayoutGap"\n        [fxLayoutAlign]="options?.fxLayoutAlign"\n        [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>\n\n    <fieldset *ngIf="containerType === \'fieldset\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded"\n      [disabled]="options?.readonly">\n      <legend *ngIf="sectionTitle"\n        [class]="\'legend \' + (options?.labelHtmlClass || \'\')"\n        [innerHTML]="sectionTitle"\n        (click)="toggleExpanded()"></legend>\n      <flex-layout-root-widget *ngIf="expanded"\n        [layout]="layoutNode.items"\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [isFlexItem]="getFlexAttribute(\'is-flex\')"\n        [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n        [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n        [style.display]="getFlexAttribute(\'display\')"\n        [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n        [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n        [style.justify-content]="getFlexAttribute(\'justify-content\')"\n        [style.align-items]="getFlexAttribute(\'align-items\')"\n        [style.align-content]="getFlexAttribute(\'align-content\')"\n        [fxLayout]="getFlexAttribute(\'layout\')"\n        [fxLayoutGap]="options?.fxLayoutGap"\n        [fxLayoutAlign]="options?.fxLayoutAlign"\n        [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </fieldset>\n\n    <mat-card *ngIf="containerType === \'card\'"\n      [class]="options?.htmlClass || \'\'"\n      [class.expandable]="options?.expandable && !expanded"\n      [class.expanded]="options?.expandable && expanded">\n      <mat-card-header *ngIf="sectionTitle">\n        <legend\n          [class]="\'legend \' + (options?.labelHtmlClass || \'\')"\n          [innerHTML]="sectionTitle"\n          (click)="toggleExpanded()"></legend>\n      </mat-card-header>\n      <mat-card-content *ngIf="expanded">\n        <fieldset [disabled]="options?.readonly">\n          <flex-layout-root-widget *ngIf="expanded"\n            [layout]="layoutNode.items"\n            [dataIndex]="dataIndex"\n            [layoutIndex]="layoutIndex"\n            [isFlexItem]="getFlexAttribute(\'is-flex\')"\n            [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n            [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n            [style.display]="getFlexAttribute(\'display\')"\n            [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n            [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n            [style.justify-content]="getFlexAttribute(\'justify-content\')"\n            [style.align-items]="getFlexAttribute(\'align-items\')"\n            [style.align-content]="getFlexAttribute(\'align-content\')"\n            [fxLayout]="getFlexAttribute(\'layout\')"\n            [fxLayoutGap]="options?.fxLayoutGap"\n            [fxLayoutAlign]="options?.fxLayoutAlign"\n            [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n          </fieldset>\n      </mat-card-content>\n      <mat-card-footer>\n        <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n          [innerHTML]="options?.errorMessage"></mat-error>\n      </mat-card-footer>\n    </mat-card>\n\n    <mat-expansion-panel *ngIf="containerType === \'expansion-panel\'"\n      [expanded]="expanded"\n      [hideToggle]="!options?.expandable">\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <legend *ngIf="sectionTitle"\n            [class]="options?.labelHtmlClass"\n            [innerHTML]="sectionTitle"\n            (click)="toggleExpanded()"></legend>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n      <fieldset [disabled]="options?.readonly">\n        <flex-layout-root-widget *ngIf="expanded"\n          [layout]="layoutNode.items"\n          [dataIndex]="dataIndex"\n          [layoutIndex]="layoutIndex"\n          [isFlexItem]="getFlexAttribute(\'is-flex\')"\n          [class.form-flex-column]="getFlexAttribute(\'flex-direction\') === \'column\'"\n          [class.form-flex-row]="getFlexAttribute(\'flex-direction\') === \'row\'"\n          [style.display]="getFlexAttribute(\'display\')"\n          [style.flex-direction]="getFlexAttribute(\'flex-direction\')"\n          [style.flex-wrap]="getFlexAttribute(\'flex-wrap\')"\n          [style.justify-content]="getFlexAttribute(\'justify-content\')"\n          [style.align-items]="getFlexAttribute(\'align-items\')"\n          [style.align-content]="getFlexAttribute(\'align-content\')"\n          [fxLayout]="getFlexAttribute(\'layout\')"\n          [fxLayoutGap]="options?.fxLayoutGap"\n          [fxLayoutAlign]="options?.fxLayoutAlign"\n          [attr.fxFlexFill]="options?.fxLayoutAlign"></flex-layout-root-widget>\n      </fieldset>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </mat-expansion-panel>',styles:["\n    fieldset { border: 0; margin: 0; padding: 0; }\n    .legend { font-weight: bold; }\n    .expandable > .legend:before { content: '▶'; padding-right: .3em; }\n    .expanded > .legend:before { content: '▼'; padding-right: .2em; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),ke=function(){function t(t){this.jsf=t}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{}},Object.defineProperty(t.prototype,"showAddButton",{get:function(){return!this.layoutNode.arrayItem||this.layoutIndex[this.layoutIndex.length-1]<this.options.maxItems},enumerable:!0,configurable:!0}),t.prototype.addItem=function(t){t.preventDefault(),this.jsf.addItem(this)},Object.defineProperty(t.prototype,"buttonText",{get:function(){var t={dataIndex:this.dataIndex.slice(0,-1),layoutIndex:this.layoutIndex.slice(0,-1),layoutNode:this.jsf.getParentNode(this)};return t.layoutNode.add||this.jsf.setArrayItemTitle(t,this.layoutNode,this.itemCount)},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Component,args:[{selector:"material-add-reference-widget",template:'\n    <section [class]="options?.htmlClass || \'\'" align="start">\n      <button mat-mini-fab *ngIf="showAddButton" \n        style="margin-bottom: 10px;"\n        [color]="options?.color || \'accent\'"\n        [disabled]="options?.readonly"\n        (click)="addItem($event)"\n        matTooltip="{{options?.title}}">\n        <mat-icon>add</mat-icon>\n      </button>\n    </section>',changeDetection:r.ChangeDetectionStrategy.Default}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Oe=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-one-of-widget",template:""}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ne=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){var e=this;this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),et(this.options,"disabled")?this.controlDisabled=this.options.disabled:this.jsf.formOptions.disableInvalidSubmit&&(this.controlDisabled=!this.jsf.isValid,this.jsf.isValidChanges.subscribe(function(t){return e.controlDisabled=!t}))},t.prototype.updateValue=function(t){"function"==typeof this.options.onClick?this.options.onClick(t):this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-button-widget",template:'\n    <div class="button-row" [class]="options?.htmlClass || \'\'">\n      <button mat-raised-button\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [color]="options?.color || \'primary\'"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (click)="updateValue($event)">\n        <mat-icon *ngIf="options?.icon" class="mat-24">{{options?.icon}}</mat-icon>\n        <span *ngIf="options?.title" [innerHTML]="options?.title"></span>\n      </button>\n    </div>',styles:[" button { margin-top: 10px; } "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Me=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.radiosList=[],this.vertical=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.radiosList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!0),this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t)},t.decorators=[{type:r.Component,args:[{selector:"material-button-group-widget",template:'\n    <div>\n      <div *ngIf="options?.title">\n        <label\n          [attr.for]="\'control\' + layoutNode?._id"\n          [class]="options?.labelHtmlClass || \'\'"\n          [style.display]="options?.notitle ? \'none\' : \'\'"\n          [innerHTML]="options?.title"></label>\n      </div>\n      <mat-button-toggle-group\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [disabled]="controlDisabled || options?.readonly"\n        [name]="controlName"\n        [value]="controlValue"\n        [vertical]="!!options.vertical">\n        <mat-button-toggle *ngFor="let radioItem of radiosList"\n          [id]="\'control\' + layoutNode?._id + \'/\' + radioItem?.name"\n          [value]="radioItem?.value"\n          (click)="updateValue(radioItem?.value)">\n          <span [innerHTML]="radioItem?.name"></span>\n        </mat-button-toggle>\n      </mat-button-toggle-group>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>',styles:[" mat-error { font-size: 75%; } "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),De=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.trueValue=!0,this.falseValue=!1,this.showSlideToggle=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly),null!==this.controlValue&&this.controlValue!==undefined||(this.controlValue=!1,this.jsf.updateValue(this,this.falseValue)),"slide-toggle"!==this.layoutNode.type&&"slide-toggle"!==this.layoutNode.format||(this.showSlideToggle=!0)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.checked?this.trueValue:this.falseValue)},Object.defineProperty(t.prototype,"isChecked",{get:function(){return this.jsf.getFormControlValue(this)===this.trueValue},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Component,args:[{selector:"material-checkbox-widget",template:'\n    <mat-checkbox *ngIf="boundControl && !showSlideToggle"\n      [formControl]="formControl"\n      labelPosition="left"\n      [color]="options?.color || \'primary\'"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      (blur)="options.showErrors = true">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-checkbox>\n    <mat-checkbox *ngIf="!boundControl && !showSlideToggle"\n      labelPosition="left"\n      [color]="options?.color || \'primary\'"\n      [disabled]="controlDisabled || options?.readonly"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      [checked]="isChecked"\n      (blur)="options.showErrors = true"\n      (change)="updateValue($event)">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-checkbox>\n    <mat-slide-toggle *ngIf="boundControl && showSlideToggle"\n      [formControl]="formControl"\n      align="left"\n      [color]="options?.color || \'primary\'"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      (blur)="options.showErrors = true">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-slide-toggle>\n    <mat-slide-toggle *ngIf="!boundControl && showSlideToggle"\n      align="left"\n      [color]="options?.color || \'primary\'"\n      [disabled]="controlDisabled || options?.readonly"\n      [id]="\'control\' + layoutNode?._id"\n      labelPosition="after"\n      [name]="controlName"\n      [checked]="isChecked"\n      (blur)="options.showErrors = true"\n      (change)="updateValue($event)">\n      <span *ngIf="options?.title"\n        class="checkbox-name"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></span>\n    </mat-slide-toggle>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    .checkbox-name { white-space: nowrap; }\n    mat-error { font-size: 75%; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Le=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.horizontalList=!1,this.checkboxList=[]}return t.prototype.ngOnInit=function(){if(this.options=this.layoutNode.options||{},this.horizontalList="checkboxes-inline"===this.layoutNode.type||"checkboxbuttons"===this.layoutNode.type,this.jsf.initializeControl(this),this.checkboxList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!0),this.boundControl){var t=this.jsf.getFormControl(this);try{for(var e=q(this.checkboxList),o=e.next();!o.done;o=e.next()){var n=o.value;n.checked=t.value.includes(n.value)}}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=e["return"])&&r.call(e)}finally{if(i)throw i.error}}}var i,r},Object.defineProperty(t.prototype,"allChecked",{get:function(){return this.checkboxList.filter(function(t){return t.checked}).length===this.checkboxList.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"someChecked",{get:function(){var t=this.checkboxList.filter(function(t){return t.checked}).length;return 0<t&&t<this.checkboxList.length},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.options.showErrors=!0,this.boundControl&&this.jsf.updateArrayCheckboxList(this,this.checkboxList)},t.prototype.updateAllValues=function(e){this.options.showErrors=!0,this.checkboxList.forEach(function(t){return t.checked=e.checked}),this.updateValue()},t.decorators=[{type:r.Component,args:[{selector:"material-checkboxes-widget",template:'\n    <div>\n      <mat-checkbox type="checkbox"\n        [checked]="allChecked"\n        [color]="options?.color || \'primary\'"\n        [disabled]="controlDisabled || options?.readonly"\n        [indeterminate]="someChecked"\n        [name]="options?.name"\n        (blur)="options.showErrors = true"\n        (change)="updateAllValues($event)">\n        <span class="checkbox-name" [innerHTML]="options?.name"></span>\n      </mat-checkbox>\n      <label *ngIf="options?.title"\n        class="title"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <ul class="checkbox-list" [class.horizontal-list]="horizontalList">\n        <li *ngFor="let checkboxItem of checkboxList"\n          [class]="options?.htmlClass || \'\'">\n          <mat-checkbox type="checkbox"\n            [(ngModel)]="checkboxItem.checked"\n            [color]="options?.color || \'primary\'"\n            [disabled]="controlDisabled || options?.readonly"\n            [name]="checkboxItem?.name"\n            (blur)="options.showErrors = true"\n            (change)="updateValue()">\n            <span class="checkbox-name" [innerHTML]="checkboxItem?.name"></span>\n          </mat-checkbox>\n        </li>\n      </ul>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>',styles:["\n    .title { font-weight: bold; }\n    .checkbox-list { list-style-type: none; }\n    .horizontal-list > li { display: inline-block; margin-right: 10px; zoom: 1; }\n    .checkbox-name { white-space: nowrap; }\n    mat-error { font-size: 75%; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Pe=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-chip-list-widget",template:""}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ve=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.config={mathJaxLib:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML",toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"links"},{name:"insert"},{name:"forms"},{name:"tools"},{name:"document",groups:["mode","document","doctools"]},{name:"others"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"styles"},{name:"colors"},{name:"about"}],removeButtons:"Underline",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",filebrowserBrowseUrl:"/browser/browse.php",filebrowserUploadUrl:"/uploader/upload.php"}}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.commentsClick=function(){console.log(this.layoutNode.dataPointer)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t)},t.decorators=[{type:r.Component,args:[{selector:"material-ckeditor-widget",template:'<div\n    [class]="options?.htmlClass || \'\'">\n      <label *ngIf="options?.title"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [style.display]="options?.notitle ? \'none\' : \'\'"\n        [innerHTML]="options?.title"></label>\n      <ck-editor (ngModelChange)="updateValue($event)" [(ngModel)]="controlValue" [name]="controlName" [config]="config">\n      </ck-editor>\n       <button mat-mini-fab *ngIf="options?.comments" color="primary" (click)="commentsClick()"><mat-icon>comment</mat-icon></button>\n    </div>\n    '}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ae=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly),this.setControlDate(this.controlValue),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.ngOnChanges=function(){this.setControlDate(this.controlValue)},t.prototype.setControlDate=function(t){this.dateValue=Et(t)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,Tt(t,this.options))},t.decorators=[{type:r.Component,args:[{selector:"material-datepicker-widget",template:'\n    <mat-form-field [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <input matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [id]="\'control\' + layoutNode?._id"\n        [max]="options?.maximum"\n        [matDatepicker]="picker"\n        [min]="options?.minimum"\n        [name]="controlName"\n        [placeholder]="options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        (blur)="options.showErrors = true">\n      <input matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [max]="options?.maximum"\n        [matDatepicker]="picker"\n        [min]="options?.minimum"\n        [name]="controlName"\n        [placeholder]="options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [value]="dateValue"\n        (blur)="options.showErrors = true"\n        (change)="updateValue($event)"\n        (input)="updateValue($event)">\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n    </mat-form-field>\n    <mat-datepicker #picker></mat-datepicker>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Se=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[],this.theme="dp-material dp-main",this.datePickerConfig={firstDayOfWeek:"su",format:"YYYY-MM-DD HH:mm:ss",monthFormat:"MMM YYYY",disableKeypress:!1,allowMultiSelect:!1,closeOnSelect:!0,closeOnSelectDelay:100,openOnFocus:!0,openOnClick:!0,onOpenDelay:0,weekDayFormat:"ddd",appendTo:document.body,showNearMonthDays:!0,showWeekNumbers:!1,enableMonthSelector:!0,yearFormat:"YYYY",showGoToCurrent:!0,dayBtnFormat:"DD",monthBtnFormat:"MMM",hours12Format:"hh",hours24Format:"HH",meridiemFormat:"A",minutesFormat:"mm",minutesInterval:1,secondsFormat:"ss",secondsInterval:1,showSeconds:!0,showTwentyFourHours:!0,timeSeparator:":",multipleYearsNavigateBy:10,showMultipleYearsNavigation:!1,locale:p.locale(),hideInputContainer:!1,returnedValueType:String,unSelectOnClick:!0,hideOnOutsideClick:!0}}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly),this.options.format?this.datePickerConfig.format=this.options.format:this.datePickerConfig.format="YYYY-MM-DD HH:mm:ss",this.options.mode?this.mode=this.options.mode:this.mode="daytime",this.setControlDate(this.controlValue),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.ngOnChanges=function(){this.setControlDate(this.controlValue)},t.prototype.setControlDate=function(t){t||(t=p((new Date).getTime()).format(this.datePickerConfig.format)),this.dateValue=p(t,this.datePickerConfig.format)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.dateValue=p(t[0]).format(this.datePickerConfig.format),this.jsf.updateValue(this,this.dateValue)},t.prototype.open=function(){this.datePicker.api.open()},t.prototype.close=function(){this.datePicker.api.close()},t.decorators=[{type:r.Component,args:[{selector:"material-datetimepicker-widget",template:'\n  <div class="datepicker-wrapper">\n    <div class="datepicker-title">\n      {{ options?.title }}\n    </div>\n    <dp-date-picker #myDatePicker\n      [(ngModel)]="dateValue"\n      [mode]="mode"\n      [config]="datePickerConfig"\n      [theme]="theme"\n      [placeholder]="options?.title"\n      (onChange)="updateValue($event)">\n    </dp-date-picker>\n    <mat-icon (click)="open()">calendar_today</mat-icon>\n  </div>\n  ',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n\n    dp-date-picker {\n      float: left;\n    }\n\n    mat-icon {\n      padding-top: 2px;\n      cursor: pointer;\n    }\n\n    .datepicker-title {\n      font-size: 12px;\n      color: rgba(0, 0, 0, 0.54);\n      padding: 2px 0;\n    }\n\n    .datepicker-wrapper {\n      margin-bottom: 10px;\n    }\n\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}],datePicker:[{type:r.ViewChild,args:["myDatePicker"]}]},t}(),Te=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-file-widget",template:""}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ee=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.autoCompleteList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-input-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatLabel]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <input matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.description : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="layoutNode?.type"\n        (blur)="options.showErrors = true">\n      <input matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.description : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="layoutNode?.type"\n        [value]="controlValue"\n        (input)="updateValue($event)"\n        (blur)="options.showErrors = true">\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      \n      <mat-autocomplete *ngIf="options?.typeahead?.source">\n        <mat-option *ngFor="let word of options?.typeahead?.source"\n          [value]="word">{{word}}</mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Re=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.allowNegative=!0,this.allowDecimal=!0,this.allowExponents=!1,this.lastValidNumber=""}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),"integer"===this.layoutNode.dataType&&(this.allowDecimal=!1),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-number-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatLabel]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <input matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="\'number\'"\n        (blur)="options.showErrors = true">\n      <input matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.max]="options?.maximum"\n        [attr.min]="options?.minimum"\n        [attr.step]="options?.multipleOf || options?.step || \'any\'"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [type]="\'number\'"\n        [value]="controlValue"\n        (input)="updateValue($event)"\n        (blur)="options.showErrors = true">\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="layoutNode?.type === \'range\'" align="start"\n        [innerHTML]="controlValue"></mat-hint>\n      \n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),qe=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.flexDirection="column",this.radiosList=[]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},"radios-inline"===this.layoutNode.type&&(this.flexDirection="row"),this.radiosList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!0),this.jsf.initializeControl(this,!this.options.readonly)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t)},t.decorators=[{type:r.Component,args:[{selector:"material-radios-widget",template:'\n    <div>\n      <div *ngIf="options?.title">\n        <label\n          [attr.for]="\'control\' + layoutNode?._id"\n          [class]="options?.labelHtmlClass || \'\'"\n          [style.display]="options?.notitle ? \'none\' : \'\'"\n          [innerHTML]="options?.title"></label>\n      </div>\n      <mat-radio-group *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [style.flex-direction]="flexDirection"\n        [name]="controlName"\n        (blur)="options.showErrors = true">\n        <mat-radio-button *ngFor="let radioItem of radiosList"\n          [id]="\'control\' + layoutNode?._id + \'/\' + radioItem?.name"\n          [value]="radioItem?.value">\n          <span [innerHTML]="radioItem?.name"></span>\n        </mat-radio-button>\n      </mat-radio-group>\n      <mat-radio-group *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.readonly]="options?.readonly ? \'readonly\' : null"\n        [attr.required]="options?.required"\n        [style.flex-direction]="flexDirection"\n        [disabled]="controlDisabled || options?.readonly"\n        [name]="controlName"\n        [value]="controlValue">\n        <mat-radio-button *ngFor="let radioItem of radiosList"\n          [id]="\'control\' + layoutNode?._id + \'/\' + radioItem?.name"\n          [value]="radioItem?.value"\n          (click)="updateValue(radioItem?.value)">\n          <span [innerHTML]="radioItem?.name"></span>\n        </mat-radio-button>\n      </mat-radio-group>\n      <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n        [innerHTML]="options?.errorMessage"></mat-error>\n    </div>',styles:["\n    mat-radio-group { display: inline-flex; }\n    mat-radio-button { margin: 2px; }\n    mat-error { font-size: 75%; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),He=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.selectList=[],this.isArray=B}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.selectList=St(this.options.titleMap||this.options.enumNames,this.options["enum"],!!this.options.required,!!this.options.flatList),this.jsf.initializeControl(this,!this.options.readonly),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.value)},t.decorators=[{type:r.Component,args:[{selector:"material-select-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatLabel]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <mat-select *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.name]="controlName"\n        [id]="\'control\' + layoutNode?._id"\n        [multiple]="options?.multiple"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        (blur)="options.showErrors = true">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <mat-option *ngIf="!isArray(selectItem?.items)"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </mat-option>\n          <mat-optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <mat-option *ngFor="let subItem of selectItem.items"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </mat-option>\n          </mat-optgroup>\n        </ng-template>\n      </mat-select>\n      <mat-select *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.name]="controlName"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [multiple]="options?.multiple"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [value]="controlValue"\n        (blur)="options.showErrors = true"\n        (selectionChange)="updateValue($event)">\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <mat-option *ngIf="!isArray(selectItem?.items)"\n            [attr.selected]="selectItem?.value === controlValue"\n            [value]="selectItem?.value">\n            <span [innerHTML]="selectItem?.name"></span>\n          </mat-option>\n          <mat-optgroup *ngIf="isArray(selectItem?.items)"\n            [label]="selectItem?.group">\n            <mat-option *ngFor="let subItem of selectItem.items"\n              [attr.selected]="subItem?.value === controlValue"\n              [value]="subItem?.value">\n              <span [innerHTML]="subItem?.name"></span>\n            </mat-option>\n          </mat-optgroup>\n        </ng-template>\n      </mat-select>\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      \n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),$e=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.selectList=[],this.isArray=B,this.defaultColors=["#e6194b","#3cb44b","#ffe119","#0082c8","#f58231","#911eb4","#46f0f0","#f032e6","#d2f53c","#fabebe","#008080","#e6beff","#aa6e28","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000080","#808080","#FFFFFF","#000000"]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.options["enum"]?this.selectList=this.defaultColors.concat(this.options["enum"]):this.selectList=this.defaultColors,this.controlValue&&-1===this.selectList.indexOf(this.controlValue)&&this.selectList.push(this.controlValue),this.jsf.initializeControl(this,!this.options.readonly),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.value)},t.decorators=[{type:r.Component,args:[{selector:"material-select-color-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatLabel]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <mat-select\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.name]="controlName"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [multiple]="options?.multiple"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [value]="controlValue"\n        (blur)="options.showErrors = true"\n        (selectionChange)="updateValue($event)"\n        [(ngModel)]="controlValue">\n        <mat-select-trigger *ngIf="controlValue">\n          <span class="color-box" [style.background-color]="controlValue"></span>\n          <span>{{ controlValue }}</span>\n        </mat-select-trigger>\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <mat-option\n            [value]="selectItem">\n            <span class="color-box" [style.background-color]="selectItem"></span>\n            <span>{{ selectItem }}</span>\n          </mat-option>\n        </ng-template>\n      </mat-select>\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n\n    .color-box {\n      display:inline-block;\n      height:14px;\n      width:14px;\n      margin-right:4px;\n      border:1px solid #000;\n    }"]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),ze=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.selectList=[],this.isArray=B,this.defaultIcons=["fa-address-book","fa-archive","fa-car","fa-camera-retro","fa-cloud","fa-bathtub","fa-bullhorn","fa-comments","fa-clone","fa-columns","fa-code","fa-eraser","fa-eject","fa-desktop","fa-fire","fa-cube","fa-list-alt","fa-microchip","fa-fax","fa-flag","fa-print","fa-power-off","fa-bell"]}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.options["enum"]?this.selectList=this.defaultIcons.concat(this.options["enum"]):this.selectList=this.defaultIcons,this.controlValue&&-1===this.selectList.indexOf(this.controlValue)&&this.selectList.push(this.controlValue),this.jsf.initializeControl(this,!this.options.readonly),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.value)},t.decorators=[{type:r.Component,args:[{selector:"material-select-icon-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatLabel]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <mat-select\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.name]="controlName"\n        [disabled]="controlDisabled || options?.readonly"\n        [id]="\'control\' + layoutNode?._id"\n        [multiple]="options?.multiple"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [required]="options?.required"\n        [style.width]="\'100%\'"\n        [value]="controlValue"\n        (blur)="options.showErrors = true"\n        (selectionChange)="updateValue($event)"\n        [(ngModel)]="controlValue">\n        <mat-select-trigger *ngIf="controlValue">\n          <i class="fa align-middle" [ngClass]="controlValue"></i>\n          <span class="icon-name">{{ controlValue }}</span>\n        </mat-select-trigger>\n        <ng-template ngFor let-selectItem [ngForOf]="selectList">\n          <mat-option\n            [value]="selectItem">\n            <i class="fa align-middle" [ngClass]="selectItem"></i>\n            <span class="icon-name">{{ selectItem }}</span>\n          </mat-option>\n        </ng-template>\n      </mat-select>\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n\n    .icon-name {\n      margin-left:5px;\n    }"]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),_e=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1,this.allowNegative=!0,this.allowDecimal=!0,this.allowExponents=!1,this.lastValidNumber=""}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this,!this.options.readonly)},t.prototype.updateValue=function(t){this.options.showErrors=!0,this.jsf.updateValue(this,t.value)},t.decorators=[{type:r.Component,args:[{selector:"material-slider-widget",template:'\n    <mat-slider thumbLabel *ngIf="boundControl"\n      [formControl]="formControl"\n      [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n      [id]="\'control\' + layoutNode?._id"\n      [max]="options?.maximum"\n      [min]="options?.minimum"\n      [step]="options?.multipleOf || options?.step || \'any\'"\n      [style.width]="\'100%\'"\n      (blur)="options.showErrors = true"></mat-slider>\n    <mat-slider thumbLabel *ngIf="!boundControl"\n      [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n      [disabled]="controlDisabled || options?.readonly"\n      [id]="\'control\' + layoutNode?._id"\n      [max]="options?.maximum"\n      [min]="options?.minimum"\n      [step]="options?.multipleOf || options?.step || \'any\'"\n      [style.width]="\'100%\'"\n      [value]="controlValue"\n      (blur)="options.showErrors = true"\n      (change)="updateValue($event)"></mat-slider>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:[" mat-error { font-size: 75%; } "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),We=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-stepper-widget",template:""}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Be=function(){function t(t){this.jsf=t,this.selectedItem=0,this.showAddTab=!0}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.itemCount=this.layoutNode.items.length-1,this.updateControl()},t.prototype.select=function(t){"$ref"===this.layoutNode.items[t].type&&(this.jsf.addItem({layoutNode:this.layoutNode.items[t],layoutIndex:this.layoutIndex.concat(t),dataIndex:this.dataIndex.concat(t)}),this.updateControl()),this.selectedItem=t},t.prototype.updateControl=function(){this.itemCount=this.layoutNode.items.length-1;var t=this.layoutNode.items[this.layoutNode.items.length-1];this.showAddTab="$ref"===t.type&&this.itemCount<(t.options.maxItems||1e3)},t.prototype.setTabTitle=function(t,e){return this.jsf.setArrayItemTitle(this,t,e)},t.decorators=[{type:r.Component,args:[{selector:"material-tabs-widget",template:'\n    <nav mat-tab-nav-bar\n      [attr.aria-label]="options?.label || options?.title || \'\'"\n      [style.width]="\'100%\'">\n        <a mat-tab-link *ngFor="let item of layoutNode?.items; let i = index"\n          [active]="selectedItem === i"\n          (click)="select(i)">\n          <span *ngIf="showAddTab || item.type !== \'$ref\'"\n            [innerHTML]="setTabTitle(item, i)"></span>\n        </a>\n    </nav>\n    <div *ngFor="let layoutItem of layoutNode?.items; let i = index"\n      [class]="options?.htmlClass || \'\'">\n      <select-framework-widget *ngIf="selectedItem === i"\n        [class]="(options?.fieldHtmlClass || \'\') + \' \' + (options?.activeClass || \'\') + \' \' + (options?.style?.selected || \'\')"\n        [dataIndex]="layoutNode?.dataType === \'array\' ? (dataIndex || []).concat(i) : dataIndex"\n        [layoutIndex]="(layoutIndex || []).concat(i)"\n        [layoutNode]="layoutItem"></select-framework-widget>\n    </div>',styles:[" a { cursor: pointer; } "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Je=function(){function t(t){this.jsf=t,this.controlDisabled=!1,this.boundControl=!1}return t.prototype.ngOnInit=function(){this.options=this.layoutNode.options||{},this.jsf.initializeControl(this),this.options.notitle||this.options.description||!this.options.placeholder||(this.options.description=this.options.placeholder)},t.prototype.updateValue=function(t){this.jsf.updateValue(this,t.target.value)},t.decorators=[{type:r.Component,args:[{selector:"material-textarea-widget",template:'\n    <mat-form-field\n      [class]="options?.htmlClass || \'\'"\n      [floatLabel]="options?.floatPlaceholder || (options?.notitle ? \'never\' : \'auto\')"\n      [style.width]="\'100%\'">\n      <span matPrefix *ngIf="options?.prefix || options?.fieldAddonLeft"\n        [innerHTML]="options?.prefix || options?.fieldAddonLeft"></span>\n      <textarea matInput *ngIf="boundControl"\n        [formControl]="formControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [required]="options?.required"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [style.width]="\'100%\'"\n        (blur)="options.showErrors = true"></textarea>\n      <textarea matInput *ngIf="!boundControl"\n        [attr.aria-describedby]="\'control\' + layoutNode?._id + \'Status\'"\n        [attr.list]="\'control\' + layoutNode?._id + \'Autocomplete\'"\n        [attr.maxlength]="options?.maxLength"\n        [attr.minlength]="options?.minLength"\n        [attr.pattern]="options?.pattern"\n        [required]="options?.required"\n        [disabled]="controlDisabled"\n        [id]="\'control\' + layoutNode?._id"\n        [name]="controlName"\n        [placeholder]="options?.notitle ? options?.placeholder : options?.title"\n        [readonly]="options?.readonly ? \'readonly\' : null"\n        [style.width]="\'100%\'"\n        [value]="controlValue"\n        (input)="updateValue($event)"\n        (blur)="options.showErrors = true"></textarea>\n      <span matSuffix *ngIf="options?.suffix || options?.fieldAddonRight"\n        [innerHTML]="options?.suffix || options?.fieldAddonRight"></span>\n      <mat-hint *ngIf="options?.description && (!options?.showErrors || !options?.errorMessage)"\n        align="end" [innerHTML]="options?.description"></mat-hint>\n    </mat-form-field>\n    <mat-error *ngIf="options?.showErrors && options?.errorMessage"\n      [innerHTML]="options?.errorMessage"></mat-error>',styles:["\n    mat-error { font-size: 75%; margin-top: -1rem; margin-bottom: 0.5rem; }\n    ::ng-deep mat-form-field .mat-form-field-wrapper .mat-form-field-flex\n      .mat-form-field-infix { width: initial; }\n  "]}]}],t.ctorParameters=function(){return[{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ge=function(){function t(t,e){this.changeDetector=t,this.jsf=e,this.frameworkInitialized=!1,this.formControl=null,this.parentArray=null,this.isOrderable=!1,this.dynamicTitle=null}return Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return!(!this.layoutNode||!this.widgetOptions.removable||this.widgetOptions.readonly||"$ref"===this.layoutNode.type)&&(!!this.layoutNode.recursiveReference||!(!this.layoutNode.arrayItem||!this.parentArray)&&(!(this.parentArray.items.length-1<=this.parentArray.options.minItems)&&("list"===this.layoutNode.arrayItemType||this.layoutIndex[this.layoutIndex.length-1]===this.parentArray.items.length-2)))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initializeFramework()},t.prototype.ngOnChanges=function(){this.frameworkInitialized||this.initializeFramework(),this.dynamicTitle&&this.updateTitle()},t.prototype.initializeFramework=function(){this.layoutNode?(this.options=E.cloneDeep(this.layoutNode.options||{}),this.widgetLayoutNode=R({},this.layoutNode,{options:E.cloneDeep(this.layoutNode.options||{})}),this.widgetOptions=this.widgetLayoutNode.options,this.formControl=this.jsf.getFormControl(this),V(this.widgetOptions.minimum)&&V(this.widgetOptions.maximum)&&1<=this.widgetOptions.multipleOf&&(this.layoutNode.type="range"),!["$ref","advancedfieldset","authfieldset","button","card","checkbox","expansion-panel","help","message","msg","section","submit","tabarray","tabs"].includes(this.layoutNode.type)&&/{{.+?}}/.test(this.widgetOptions.title||"")&&(this.dynamicTitle=this.widgetOptions.title,this.updateTitle()),this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type&&(this.parentArray=this.jsf.getParentNode(this),this.parentArray&&(this.isOrderable="tab"!==this.parentArray.type.slice(0,3)&&"list"===this.layoutNode.arrayItemType&&!this.widgetOptions.readonly&&this.parentArray.options.orderable)),this.frameworkInitialized=!0):this.options={}},t.prototype.updateTitle=function(){this.widgetLayoutNode.options.title=this.jsf.parseText(this.dynamicTitle,this.jsf.getFormControlValue(this),this.jsf.getFormControlGroup(this).value,this.dataIndex[this.dataIndex.length-1])},t.prototype.removeItem=function(){this.jsf.removeItem(this)},t.decorators=[{type:r.Component,args:[{selector:"material-design-framework",template:'\n    <div\n      [class.array-item]="widgetLayoutNode?.arrayItem && widgetLayoutNode?.type !== \'$ref\'"\n      [orderable]="isOrderable"\n      [dataIndex]="dataIndex"\n      [layoutIndex]="layoutIndex"\n      [layoutNode]="widgetLayoutNode">\n      <svg *ngIf="showRemoveButton"\n        xmlns="http://www.w3.org/2000/svg"\n        height="18" width="18" viewBox="0 0 24 24"\n        class="close-button"\n        (click)="removeItem()">\n        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>\n      </svg>\n      <select-widget-widget\n        [dataIndex]="dataIndex"\n        [layoutIndex]="layoutIndex"\n        [layoutNode]="widgetLayoutNode"></select-widget-widget>\n    </div>\n    <div class="spacer" *ngIf="widgetLayoutNode?.arrayItem && widgetLayoutNode?.type !== \'$ref\'"></div>',styles:["\n    .array-item {\n      border-radius: 2px;\n      box-shadow: 0 3px 1px -2px rgba(0,0,0,.2),\n                  0 2px 2px  0   rgba(0,0,0,.14),\n                  0 1px 5px  0   rgba(0,0,0,.12);\n      padding: 6px;\n      position: relative;\n      transition: all 280ms cubic-bezier(.4, 0, .2, 1);\n    }\n    .close-button {\n      cursor: pointer;\n      position: absolute;\n      top: 6px;\n      right: 6px;\n      fill: rgba(0,0,0,.4);\n      visibility: hidden;\n      z-index: 500;\n    }\n    .close-button:hover { fill: rgba(0,0,0,.8); }\n    .array-item:hover > .close-button { visibility: visible; }\n    .spacer { margin: 6px 0; }\n    [draggable=true]:hover {\n      box-shadow: 0 5px 5px -3px rgba(0,0,0,.2),\n                  0 8px 10px 1px rgba(0,0,0,.14),\n                  0 3px 14px 2px rgba(0,0,0,.12);\n      cursor: move;\n      z-index: 10;\n    }\n    [draggable=true].drag-target-top {\n      box-shadow: 0 -2px 0 #000;\n      position: relative; z-index: 20;\n    }\n    [draggable=true].drag-target-bottom {\n      box-shadow: 0 2px 0 #000;\n      position: relative; z-index: 20;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="material-design",t.framework=Ge,t.stylesheets=["//fonts.googleapis.com/icon?family=Material+Icons","//fonts.googleapis.com/css?family=Roboto:300,500,700"],t.widgets={root:Fe,section:je,$ref:ke,button:Ne,"button-group":Me,checkbox:De,checkboxes:Le,"chip-list":Pe,date:Ae,datetime:Se,file:Te,number:Re,"one-of":Oe,radios:qe,select:He,color:$e,slider:_e,stepper:We,tabs:Be,text:Ee,textarea:Je,ckeditor:Ve,icon:ze,"alt-date":"date","any-of":"one-of",card:"section","expansion-panel":"section",hidden:"none",image:"none",integer:"number",radiobuttons:"button-group",range:"slider",submit:"button",tagsinput:"chip-list",wizard:"stepper"},t}return v(t,e),t.decorators=[{type:r.Injectable}],t}(ce),Ue=[Fe,je,ke,Oe,Ne,Me,De,Le,Pe,Ve,Ae,Se,Te,Ee,Re,qe,He,$e,ze,_e,We,Be,Je,Ge],Ze=[g.MatAutocompleteModule,g.MatButtonModule,g.MatButtonToggleModule,g.MatCardModule,g.MatCheckboxModule,g.MatChipsModule,g.MatDatepickerModule,g.MatExpansionModule,g.MatFormFieldModule,g.MatIconModule,g.MatInputModule,g.MatNativeDateModule,g.MatRadioModule,g.MatSelectModule,g.MatSliderModule,g.MatSlideToggleModule,g.MatStepperModule,g.MatTabsModule,g.MatTooltipModule],Ke=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:ce,useClass:Ye,multi:!0}]}},t.decorators=[{type:r.NgModule,args:[{imports:H([c.CommonModule,s.FormsModule,s.ReactiveFormsModule,h.FlexLayoutModule,y.AngularFontAwesomeModule],Ze,[ve,m.CKEditorModule,f.DpDatePickerModule]),declarations:H(Ue),exports:H(Ue),entryComponents:H(Ue)}]}],t}(),Xe=function(){function t(t,e){this.changeDetector=t,this.jsf=e,this.frameworkInitialized=!1,this.formControl=null,this.debugOutput="",this.debug="",this.parentArray=null,this.isOrderable=!1}return Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return!(!this.options.removable||this.options.readonly||"$ref"===this.layoutNode.type)&&(!!this.layoutNode.recursiveReference||!(!this.layoutNode.arrayItem||!this.parentArray)&&(!(this.parentArray.items.length-1<=this.parentArray.options.minItems)&&("list"===this.layoutNode.arrayItemType||this.layoutIndex[this.layoutIndex.length-1]===this.parentArray.items.length-2)))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initializeFramework(),this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type&&(this.parentArray=this.jsf.getParentNode(this),this.parentArray&&(this.isOrderable="list"===this.layoutNode.arrayItemType&&!this.options.readonly&&this.parentArray.options.orderable))},t.prototype.ngOnChanges=function(){this.frameworkInitialized||this.initializeFramework()},t.prototype.initializeFramework=function(){var e=this;if(this.layoutNode){switch(this.options=E.cloneDeep(this.layoutNode.options),this.widgetLayoutNode=R({},this.layoutNode,{options:E.cloneDeep(this.layoutNode.options)}),this.widgetOptions=this.widgetLayoutNode.options,this.formControl=this.jsf.getFormControl(this),this.options.isInputWidget=U(this.layoutNode.type,["button","checkbox","checkboxes-inline","checkboxes","color","date","datetime-local","datetime","email","file","hidden","image","integer","month","number","password","radio","radiobuttons","radios-inline","radios","range","reset","search","select","submit","tel","text","textarea","time","url","week"]),this.options.title=this.setTitle(),this.options.htmlClass=K(this.options.htmlClass,"schema-form-"+this.layoutNode.type),"flex"!==this.layoutNode.type&&(this.options.htmlClass="array"===this.layoutNode.type?K(this.options.htmlClass,"list-group"):this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type?K(this.options.htmlClass,"list-group-item"):K(this.options.htmlClass,"form-group")),this.widgetOptions.htmlClass="",this.options.labelHtmlClass=K(this.options.labelHtmlClass,"control-label"),this.widgetOptions.activeClass=K(this.widgetOptions.activeClass,"active"),this.options.fieldAddonLeft=this.options.fieldAddonLeft||this.options.prepend,this.options.fieldAddonRight=this.options.fieldAddonRight||this.options.append,this.options.title&&"tab"!==this.layoutNode.type&&!this.options.notitle&&this.options.required&&!this.options.title.includes("*")&&(this.options.title+=' <strong class="text-danger">*</strong>'),this.layoutNode.type){case"checkbox":case"checkboxes":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"checkbox");break;case"checkboxes-inline":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"checkbox"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,"checkbox-inline");break;case"radio":case"radios":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"radio");break;case"radios-inline":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"radio"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,"radio-inline");break;case"checkboxbuttons":case"radiobuttons":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"btn-group"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,"btn"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,this.options.style||"btn-default"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"sr-only");break;case"button":case"submit":this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"btn"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-info");break;case"array":case"fieldset":case"section":case"conditional":case"advancedfieldset":case"authfieldset":case"selectfieldset":case"optionfieldset":this.options.messageLocation="top";break;case"tabarray":case"tabs":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"tab-content"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"tab-pane"),this.widgetOptions.labelHtmlClass=K(this.widgetOptions.labelHtmlClass,"nav nav-tabs");break;case"$ref":this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"btn pull-right"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-default"),this.options.icon="glyphicon glyphicon-plus";break;default:this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"form-control")}if(this.formControl&&(this.updateHelpBlock(this.formControl.status),this.formControl.statusChanges.subscribe(function(t){return e.updateHelpBlock(t)}),this.options.debug)){this.debugOutput=E.map([],function(t){return JSON.stringify(t,null,2)}).join("\n")}this.frameworkInitialized=!0}},t.prototype.updateHelpBlock=function(t){this.options.helpBlock="INVALID"===t&&this.options.enableErrorState&&this.formControl.errors&&(this.formControl.dirty||this.options.feedbackOnRender)?this.jsf.formatErrors(this.formControl.errors,this.options.validationMessages):this.options.description||this.options.help||null},t.prototype.setTitle=function(){switch(this.layoutNode.type){case"button":case"checkbox":case"section":case"help":case"msg":case"submit":case"message":case"tabarray":case"tabs":case"$ref":return null;case"advancedfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Advanced options",null;case"authfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Authentication settings",null;case"fieldset":return this.widgetOptions.title=this.options.title,null;default:return this.widgetOptions.title=null,this.jsf.setItemTitle(this)}},t.prototype.removeItem=function(){this.jsf.removeItem(this)},t.decorators=[{type:r.Component,args:[{selector:"bootstrap-3-framework",template:'\n    <div\n      [class]="options?.htmlClass || \'\'"\n      [class.has-feedback]="options?.feedback && options?.isInputWidget &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-error]="options?.enableErrorState && formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-success]="options?.enableSuccessState && !formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)">\n\n      <button *ngIf="showRemoveButton"\n        class="close pull-right"\n        type="button"\n        (click)="removeItem()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n      </button>\n      <div *ngIf="options?.messageLocation === \'top\'">\n          <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n\n      <label *ngIf="options?.title && layoutNode?.type !== \'tab\'"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [class.sr-only]="options?.notitle"\n        [innerHTML]="options?.title"></label>\n      <p *ngIf="layoutNode?.type === \'submit\' && jsf?.formOptions?.fieldsRequired">\n        <strong class="text-danger">*</strong> = required fields\n      </p>\n      <div [class.input-group]="options?.fieldAddonLeft || options?.fieldAddonRight">\n        <span *ngIf="options?.fieldAddonLeft"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonLeft"></span>\n\n        <select-widget-widget\n          [layoutNode]="widgetLayoutNode"\n          [dataIndex]="dataIndex"\n          [layoutIndex]="layoutIndex"></select-widget-widget>\n\n        <span *ngIf="options?.fieldAddonRight"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonRight"></span>\n      </div>\n\n      <span *ngIf="options?.feedback && options?.isInputWidget &&\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\n          (formControl?.dirty || options?.feedbackOnRender)"\n        [class.glyphicon-ok]="options?.enableSuccessState && !formControl?.errors"\n        [class.glyphicon-remove]="options?.enableErrorState && formControl?.errors"\n        aria-hidden="true"\n        class="form-control-feedback glyphicon"></span>\n      <div *ngIf="options?.messageLocation !== \'top\'">\n        <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n    </div>\n\n    <div *ngIf="debug && debugOutput">debug: <pre>{{debugOutput}}</pre></div>\n  ',styles:["\n    :host /deep/ .list-group-item .form-control-feedback { top: 40; }\n    :host /deep/ .checkbox,\n    :host /deep/ .radio { margin-top: 0; margin-bottom: 0; }\n    :host /deep/ .checkbox-inline,\n    :host /deep/ .checkbox-inline + .checkbox-inline,\n    :host /deep/ .checkbox-inline + .radio-inline,\n    :host /deep/ .radio-inline,\n    :host /deep/ .radio-inline + .radio-inline,\n    :host /deep/ .radio-inline + .checkbox-inline { margin-left: 0; margin-right: 10px; }\n    :host /deep/ .checkbox-inline:last-child,\n    :host /deep/ .radio-inline:last-child { margin-right: 0; }\n    :host /deep/ .ng-invalid.ng-touched { border: 1px solid #f44336; }\n  "]}]}],t.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),Qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="bootstrap-3",t.framework=Xe,t.stylesheets=["//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css","//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"],t.scripts=["//ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js","//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js","//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"],t}return v(t,e),t.decorators=[{type:r.Injectable}],t}(ce),to=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:ce,useClass:Qe,multi:!0}]}},t.decorators=[{type:r.NgModule,args:[{imports:[c.CommonModule,ve],declarations:[Xe],exports:[Xe],entryComponents:[Xe]}]}],t}(),eo=function(){function t(t,e){this.changeDetector=t,this.jsf=e,this.frameworkInitialized=!1,this.formControl=null,this.debugOutput="",this.debug="",this.parentArray=null,this.isOrderable=!1}return Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return!(!this.options.removable||this.options.readonly||"$ref"===this.layoutNode.type)&&(!!this.layoutNode.recursiveReference||!(!this.layoutNode.arrayItem||!this.parentArray)&&(!(this.parentArray.items.length-1<=this.parentArray.options.minItems)&&("list"===this.layoutNode.arrayItemType||this.layoutIndex[this.layoutIndex.length-1]===this.parentArray.items.length-2)))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initializeFramework(),this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type&&(this.parentArray=this.jsf.getParentNode(this),this.parentArray&&(this.isOrderable="list"===this.layoutNode.arrayItemType&&!this.options.readonly&&this.parentArray.options.orderable))},t.prototype.ngOnChanges=function(){this.frameworkInitialized||this.initializeFramework()},t.prototype.initializeFramework=function(){var e=this;if(this.layoutNode){switch(this.options=E.cloneDeep(this.layoutNode.options),this.widgetLayoutNode=R({},this.layoutNode,{options:E.cloneDeep(this.layoutNode.options)}),this.widgetOptions=this.widgetLayoutNode.options,this.formControl=this.jsf.getFormControl(this),this.options.isInputWidget=U(this.layoutNode.type,["button","checkbox","checkboxes-inline","checkboxes","color","date","datetime-local","datetime","email","file","hidden","image","integer","month","number","password","radio","radiobuttons","radios-inline","radios","range","reset","search","select","submit","tel","text","textarea","time","url","week"]),this.options.title=this.setTitle(),this.options.htmlClass=K(this.options.htmlClass,"schema-form-"+this.layoutNode.type),this.options.htmlClass="array"===this.layoutNode.type?K(this.options.htmlClass,"list-group"):this.layoutNode.arrayItem&&"$ref"!==this.layoutNode.type?K(this.options.htmlClass,"list-group-item"):K(this.options.htmlClass,"form-group"),this.widgetOptions.htmlClass="",this.options.labelHtmlClass=K(this.options.labelHtmlClass,"control-label"),this.widgetOptions.activeClass=K(this.widgetOptions.activeClass,"active"),this.options.fieldAddonLeft=this.options.fieldAddonLeft||this.options.prepend,this.options.fieldAddonRight=this.options.fieldAddonRight||this.options.append,this.options.title&&"tab"!==this.layoutNode.type&&!this.options.notitle&&this.options.required&&!this.options.title.includes("*")&&(this.options.title+=' <strong class="text-danger">*</strong>'),this.layoutNode.type){case"checkbox":case"checkboxes":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"checkbox");break;case"checkboxes-inline":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"checkbox"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,"checkbox-inline");break;case"radio":case"radios":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"radio");break;case"radios-inline":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"radio"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,"radio-inline");break;case"checkboxbuttons":case"radiobuttons":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"btn-group"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,"btn"),this.widgetOptions.itemLabelHtmlClass=K(this.widgetOptions.itemLabelHtmlClass,this.options.style||"btn-default"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"sr-only");break;case"button":case"submit":this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"btn"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-info");break;case"array":case"fieldset":case"section":case"conditional":case"advancedfieldset":case"authfieldset":case"selectfieldset":case"optionfieldset":this.options.messageLocation="top";break;case"tabarray":case"tabs":this.widgetOptions.htmlClass=K(this.widgetOptions.htmlClass,"tab-content"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"tab-pane"),this.widgetOptions.labelHtmlClass=K(this.widgetOptions.labelHtmlClass,"nav nav-tabs");break;case"$ref":this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"btn pull-right"),this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,this.options.style||"btn-default"),this.options.icon="glyphicon glyphicon-plus";break;default:this.widgetOptions.fieldHtmlClass=K(this.widgetOptions.fieldHtmlClass,"form-control")}if(this.formControl&&(this.updateHelpBlock(this.formControl.status),this.formControl.statusChanges.subscribe(function(t){return e.updateHelpBlock(t)}),this.options.debug)){this.debugOutput=E.map([],function(t){return JSON.stringify(t,null,2)}).join("\n")}this.frameworkInitialized=!0}},t.prototype.updateHelpBlock=function(t){this.options.helpBlock="INVALID"===t&&this.options.enableErrorState&&this.formControl.errors&&(this.formControl.dirty||this.options.feedbackOnRender)?this.jsf.formatErrors(this.formControl.errors,this.options.validationMessages):this.options.description||this.options.help||null},t.prototype.setTitle=function(){switch(this.layoutNode.type){case"button":case"checkbox":case"section":case"help":case"msg":case"submit":case"message":case"tabarray":case"tabs":case"$ref":return null;case"advancedfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Advanced options",null;case"authfieldset":return this.widgetOptions.expandable=!0,this.widgetOptions.title="Authentication settings",null;case"fieldset":return this.widgetOptions.title=this.options.title,null;default:return this.widgetOptions.title=null,this.jsf.setItemTitle(this)}},t.prototype.removeItem=function(){this.jsf.removeItem(this)},t.decorators=[{type:r.Component,args:[{selector:"bootstrap-4-framework",template:'\n    <div\n      [class]="options?.htmlClass || \'\'"\n      [class.has-feedback]="options?.feedback && options?.isInputWidget &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-error]="options?.enableErrorState && formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)"\n      [class.has-success]="options?.enableSuccessState && !formControl?.errors &&\n        (formControl?.dirty || options?.feedbackOnRender)">\n\n      <button *ngIf="showRemoveButton"\n        class="close pull-right"\n        type="button"\n        (click)="removeItem()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n      </button>\n      <div *ngIf="options?.messageLocation === \'top\'">\n        <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n\n      <label *ngIf="options?.title && layoutNode?.type !== \'tab\'"\n        [attr.for]="\'control\' + layoutNode?._id"\n        [class]="options?.labelHtmlClass || \'\'"\n        [class.sr-only]="options?.notitle"\n        [innerHTML]="options?.title"></label>\n      <p *ngIf="layoutNode?.type === \'submit\' && jsf?.formOptions?.fieldsRequired">\n        <strong class="text-danger">*</strong> = required fields\n      </p>\n      <div [class.input-group]="options?.fieldAddonLeft || options?.fieldAddonRight">\n        <span *ngIf="options?.fieldAddonLeft"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonLeft"></span>\n\n        <select-widget-widget\n          [layoutNode]="widgetLayoutNode"\n          [dataIndex]="dataIndex"\n          [layoutIndex]="layoutIndex"></select-widget-widget>\n\n        <span *ngIf="options?.fieldAddonRight"\n          class="input-group-addon"\n          [innerHTML]="options?.fieldAddonRight"></span>\n      </div>\n\n      <span *ngIf="options?.feedback && options?.isInputWidget &&\n          !options?.fieldAddonRight && !layoutNode.arrayItem &&\n          (formControl?.dirty || options?.feedbackOnRender)"\n        [class.glyphicon-ok]="options?.enableSuccessState && !formControl?.errors"\n        [class.glyphicon-remove]="options?.enableErrorState && formControl?.errors"\n        aria-hidden="true"\n        class="form-control-feedback glyphicon"></span>\n      <div *ngIf="options?.messageLocation !== \'top\'">\n        <p *ngIf="options?.helpBlock"\n          class="help-block"\n          [innerHTML]="options?.helpBlock"></p>\n      </div>\n    </div>\n\n    <div *ngIf="debug && debugOutput">debug: <pre>{{debugOutput}}</pre></div>\n  ',styles:["\n    :host /deep/ .list-group-item .form-control-feedback { top: 40px; }\n    :host /deep/ .checkbox,\n    :host /deep/ .radio { margin-top: 0; margin-bottom: 0; }\n    :host /deep/ .checkbox-inline,\n    :host /deep/ .checkbox-inline + .checkbox-inline,\n    :host /deep/ .checkbox-inline + .radio-inline,\n    :host /deep/ .radio-inline,\n    :host /deep/ .radio-inline + .radio-inline,\n    :host /deep/ .radio-inline + .checkbox-inline { margin-left: 0; margin-right: 10px; }\n    :host /deep/ .checkbox-inline:last-child,\n    :host /deep/ .radio-inline:last-child { margin-right: 0; }\n    :host /deep/ .ng-invalid.ng-touched { border: 1px solid #f44336; }\n  "]}]}],t.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:$t}]},t.propDecorators={layoutNode:[{type:r.Input}],layoutIndex:[{type:r.Input}],dataIndex:[{type:r.Input}]},t}(),oo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="bootstrap-4",t.framework=eo,t.stylesheets=["//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"],t.scripts=["//code.jquery.com/jquery-3.2.1.slim.min.js","//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js","//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"],t}return v(t,e),t.decorators=[{type:r.Injectable}],t}(ce),no=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:ce,useClass:oo,multi:!0}]}},t.decorators=[{type:r.NgModule,args:[{imports:[c.CommonModule,ve],declarations:[eo],exports:[eo],entryComponents:[eo]}]}],t}();t.ɵf=Ue,t.ɵg=Ve,t.ɵh=Se,t.ɵb=Ze,t.ɵi=$e,t.ɵj=ze,t.ɵa=fe,t.ɵd=oe,t.ɵe=pe,t.ɵc=be,t._executeValidators=I,t._executeAsyncValidators=C,t._mergeObjects=w,t._mergeErrors=F,t.isDefined=V,t.hasValue=j,t.isEmpty=$,t.isString=z,t.isNumber=_,t.isInteger=k,t.isBoolean=O,t.isFunction=function(t){return"function"==typeof t},t.isObject=W,t.isArray=B,t.isDate=N,t.isMap=M,t.isSet=D,t.isPromise=J,t.isObservable=G,t.getType=L,t.isType=P,t.isPrimitive=A,t.toJavaScriptType=S,t.toSchemaType=T,t._toPromise=function(t){return J(t)?t:e.toPromise.call(t)},t.toObservable=Y,t.inArray=U,t.xor=Z,t.addClasses=K,t.copy=X,t.forEach=Q,t.forEachCopy=tt,t.hasOwn=et,t.mergeFilteredObject=ot,t.uniqueItems=nt,t.commonItems=it,t.fixTitle=rt,t.toTitleCase=at,t.JsonPointer=st,t.JsonValidators=ut,t.buildSchemaFromLayout=dt,t.buildSchemaFromData=ct,t.getFromSchema=mt,t.removeRecursiveReferences=ft,t.getInputType=ht,t.checkInlineType=yt,t.isInputRequired=gt,t.updateInputOptions=bt,t.getTitleMapFromOneOf=vt,t.getControlValidators=xt,t.resolveSchemaReferences=It,t.getSubSchema=Ct,t.combineAllOf=wt,t.fixRequiredArrayProperties=Ft,t.convertSchemaToDraft6=jt,t.mergeSchemas=pt,t.buildFormGroupTemplate=kt,t.buildFormGroup=Ot,t.formatFormData=Mt,t.getControl=Dt,t.setRequiredFields=Nt,t.buildLayout=Lt,t.buildLayoutFromSchema=Pt,t.mapLayout=Vt,t.getLayoutNode=At,t.buildTitleMap=St,t.dateToString=Tt,t.stringToDate=Et,t.findDate=Rt,t.OrderableDirective=zt,t.JsonSchemaFormComponent=he,t.JsonSchemaFormService=$t,t.JsonSchemaFormModule=we,t.WidgetLibraryService=de,t.WidgetLibraryModule=ve,t.AddReferenceComponent=_t,t.OneOfComponent=Wt,t.ButtonComponent=Bt,t.CheckboxComponent=Jt,t.CheckboxesComponent=Gt,t.FileComponent=Yt,t.HiddenComponent=ye,t.InputComponent=Ut,t.MessageComponent=Zt,t.NoneComponent=Kt,t.NumberComponent=Xt,t.RadiosComponent=Qt,t.RootComponent=te,t.SectionComponent=ee,t.SelectComponent=ne,t.SelectFrameworkComponent=ie,t.SelectWidgetComponent=re,t.SubmitComponent=ae,t.TabComponent=ge,t.TabsComponent=se,t.TemplateComponent=le,t.TextareaComponent=ue,t.FrameworkLibraryService=me,t.Framework=ce,t.NoFramework=Ie,t.NoFrameworkComponent=xe,t.NoFrameworkModule=Ce,t.MaterialDesignFramework=Ye,t.FlexLayoutRootComponent=Fe,t.FlexLayoutSectionComponent=je,t.MaterialAddReferenceComponent=ke,t.MaterialOneOfComponent=Oe,t.MaterialButtonComponent=Ne,t.MaterialButtonGroupComponent=Me,t.MaterialCheckboxComponent=De,t.MaterialCheckboxesComponent=Le,t.MaterialChipListComponent=Pe,t.MaterialDatepickerComponent=Ae,t.MaterialFileComponent=Te,t.MaterialInputComponent=Ee,t.MaterialNumberComponent=Re,t.MaterialRadiosComponent=qe,t.MaterialSelectComponent=He,t.MaterialSliderComponent=_e,t.MaterialStepperComponent=We,t.MaterialTabsComponent=Be,t.MaterialTextareaComponent=Je,t.MaterialDesignFrameworkComponent=Ge,t.MaterialDesignFrameworkModule=Ke,t.Bootstrap3Framework=Qe,t.Bootstrap3FrameworkComponent=Xe,t.Bootstrap3FrameworkModule=to,t.Bootstrap4Framework=oo,t.Bootstrap4FrameworkComponent=eo,t.Bootstrap4FrameworkModule=no,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular2-json-schema-form.umd.min.js.map